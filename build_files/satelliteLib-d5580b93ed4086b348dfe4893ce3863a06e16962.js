// All code and conventions are protected by copyright
!function(n,e,r){function i(){_.addEventHandler(n,"orientationchange",i.orientationChange)}function a(){this.rules=_.filter(_.rules,function(n){return"elementexists"===n.event})}function o(){this.rules=_.filter(_.rules,function(n){return"videoplayed"===n.event.substring(0,11)}),this.eventHandler=_.bind(this.onUpdateTime,this)}function c(){var n=this.eventRegex=/^hover\(([0-9]+)\)$/,e=this.rules=[];_.each(_.rules,function(t){var r=t.event.match(n);r&&e.push([Number(t.event.match(n)[1]),t.selector])})}function d(e){_.domReady(_.bind(function(){this.twttr=e||n.twttr,this.initialize()},this))}function l(n){this.delay=250,this.FB=n,_.domReady(_.bind(function(){_.poll(_.bind(this.initialize,this),this.delay,8)},this))}function p(e){e=e||_.rules,this.rules=_.filter(e,function(n){return"inview"===n.event}),this.elements=[],this.eventHandler=_.bind(this.track,this),_.addEventHandler(n,"scroll",this.eventHandler),_.addEventHandler(n,"load",this.eventHandler)}function u(n){_.BaseTool.call(this,n),this.name=n.name||"VisitorID"}function g(n){_.BaseTool.call(this,n)}function m(n){_.BaseTool.call(this,n)}function h(n){_.BaseTool.call(this,n),this.varBindings={},this.events=[],this.products=[],this.customSetupFuns=[]}function f(){_.BaseTool.call(this),this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function v(n){_.BaseTool.call(this,n),_.notify("Test & Target: Initializing",1),this.styleElements={},this.myInitialize()}function b(n){_.BaseTool.call(this,n),this.name=n.name||"Basic"}var x=Object.prototype.toString,y=n._satellite&&n._satellite.override,_={$data:function(n,e,t){var i="__satellite__",a=_.dataCache,s=n[i];s||(s=n[i]=_.uuid++);var o=a[s];return o||(o=a[s]={}),t===r?o[e]:void(o[e]=t)},uuid:1,dataCache:{},isArray:Array.isArray||function(n){return"[object Array]"===x.apply(n)},isObject:function(n){return null!=n&&!_.isArray(n)&&"object"==typeof n},isString:function(n){return"string"==typeof n},isNumber:function(n){return"[object Number]"===x.apply(n)&&!_.isNaN(n)},isNaN:function(n){return n!==n},isRegex:function(n){return n instanceof RegExp},isLinkTag:function(n){return!(!n||!n.nodeName||"a"!==n.nodeName.toLowerCase())},each:function(n,e,t){for(var r=0,i=n.length;i>r;r++)e.call(t,n[r],r,n)},map:function(n,e,t){for(var r=[],i=0,a=n.length;a>i;i++)r.push(e.call(t,n[i],i,n));return r},filter:function(n,e,t){for(var r=[],i=0,a=n.length;a>i;i++){var s=n[i];e.call(t,s,i,n)&&r.push(s)}return r},any:function(n,e,t){for(var r=0,i=n.length;i>r;r++){var a=n[r];if(e.call(t,a,r,n))return!0}return!1},every:function(n,e,t){for(var r=!0,i=0,a=n.length;a>i;i++){var s=n[i];r=r&&e.call(t,s,i,n)}return r},contains:function(n,e){return-1!==_.indexOf(n,e)},indexOf:function(n,e){if(n.indexOf)return n.indexOf(e);for(var t=n.length;t--;)if(e===n[t])return t;return-1},find:function(n,e,t){for(var r=0,i=n.length;i>r;r++){var a=n[r];if(e.call(t,a,r,n))return a}return null},textMatch:function(n,e){return"string"==typeof e?n===e:e instanceof RegExp?e.test(n):!1},stringify:function(n,e){if(e=e||[],_.isObject(n)){if(_.contains(e,n))return"<Cycle>";e.push(n)}if(_.isArray(n))return"["+_.map(n,function(n){return _.stringify(n,e)}).join(",")+"]";if(_.isString(n))return'"'+String(n)+'"';if(_.isObject(n)){var t=[];for(var r in n)t.push(r+": "+_.stringify(n[r],e));return"{"+t.join(", ")+"}"}return String(n)},trim:function(n){return null==n?null:n.trim?n.trim():n.replace(/^ */,"").replace(/ *$/,"")},bind:function(n,e){return function(){return n.apply(e,arguments)}},throttle:function(n,e){var t=null;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){n.apply(r,i)},e)}},domReady:function(n){function t(n){for(u=1;n=i.shift();)n()}var r,i=[],a=!1,s=e,o=s.documentElement,c=o.doScroll,d="DOMContentLoaded",l="addEventListener",p="onreadystatechange",u=/^loade|^c/.test(s.readyState);return s[l]&&s[l](d,r=function(){s.removeEventListener(d,r,a),t()},a),c&&s.attachEvent(p,r=function(){/^c/.test(s.readyState)&&(s.detachEvent(p,r),t())}),n=c?function(e){self!=top?u?e():i.push(e):function(){try{o.doScroll("left")}catch(t){return setTimeout(function(){n(e)},50)}e()}()}:function(n){u?n():i.push(n)}}(),loadScript:function(n,t){var r=e.createElement("script");_.scriptOnLoad(n,r,t),r.src=n,e.getElementsByTagName("head")[0].appendChild(r)},scriptOnLoad:function(n,e,t){function r(n){n&&_.logError(n),t&&t(n)}"onload"in e?(e.onload=function(){r()},e.onerror=function(){r(new Error("Failed to load script "+n))}):"readyState"in e&&(e.onreadystatechange=function(){var n=e.readyState;("loaded"===n||"complete"===n)&&(e.onreadystatechange=null,r())})},loadScriptOnce:function(n,e){_.loadedScriptRegistry[n]||_.loadScript(n,function(t){t||(_.loadedScriptRegistry[n]=!0),e&&e(t)})},loadedScriptRegistry:{},loadScriptSync:function(n){return _.domReadyFired?void _.notify('Cannot load sync the "'+n+'" script after DOM Ready.',1):void e.write('<script src="'+n+'"></script>')},pushAsyncScript:function(n){_.tools["default"].pushAsyncScript(n)},pushBlockingScript:function(n){_.tools["default"].pushBlockingScript(n)},addEventHandler:n.addEventListener?function(n,e,t){n.addEventListener(e,t,!1)}:function(n,e,t){n.attachEvent("on"+e,t)},preventDefault:n.addEventListener?function(n){n.preventDefault()}:function(n){n.returnValue=!1},stopPropagation:function(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()},containsElement:function(n,e){return n.contains?n.contains(e):!!(16&n.compareDocumentPosition(e))},matchesCss:function(t){function r(n,e){var t=e.tagName;return t?n.toLowerCase()===t.toLowerCase():!1}var i=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;return i?function(t,r){if(r===e||r===n)return!1;try{return i.call(r,t)}catch(a){return!1}}:t.querySelectorAll?function(n,e){var t=e.parentNode;if(!t)return!1;if(n.match(/^[a-z]+$/i))return r(n,e);try{for(var i=e.parentNode.querySelectorAll(n),a=i.length;a--;)if(i[a]===e)return!0}catch(s){}return!1}:function(n,e){if(n.match(/^[a-z]+$/i))return r(n,e);try{return _.Sizzle.matches(n,[e]).length>0}catch(t){return!1}}}(e.documentElement),cssQuery:function(n){return n.querySelectorAll?function(e,t){var r;try{r=n.querySelectorAll(e)}catch(i){r=[]}t(r)}:function(n,e){if(_.Sizzle){var t;try{t=_.Sizzle(n)}catch(r){t=[]}e(t)}else _.sizzleQueue.push([n,e])}}(e),hasAttr:function(n,e){return n.hasAttribute?n.hasAttribute(e):n[e]!==r},inherit:function(n,e){var t=function(){};t.prototype=e.prototype,n.prototype=new t,n.prototype.constructor=n},extend:function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},toArray:function(){try{var n=Array.prototype.slice;return n.call(e.documentElement.childNodes,0)[0].nodeType,function(e){return n.call(e,0)}}catch(t){return function(n){for(var e=[],t=0,r=n.length;r>t;t++)e.push(n[t]);return e}}}(),equalsIgnoreCase:function(n,e){return null==n?null==e:null==e?!1:String(n).toLowerCase()===String(e).toLowerCase()},poll:function(n,e,t){function r(){_.isNumber(t)&&i++>=t||n()||setTimeout(r,e)}var i=0;e=e||1e3,r()},escapeForHtml:function(n){return n?n.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;").replace(/\//g,"&#x2F;"):n}};_.availableTools={},_.availableEventEmitters=[],_.fireOnceEvents=["condition","elementexists"],_.initEventEmitters=function(){_.eventEmitters=_.map(_.availableEventEmitters,function(n){return new n})},_.eventEmitterBackgroundTasks=function(){_.each(_.eventEmitters,function(n){"backgroundTasks"in n&&n.backgroundTasks()})},_.initTools=function(n){var e={"default":new f},t=_.settings.euCookieName||"sat_track";for(var r in n){var i,a,s;if(i=n[r],i.euCookie){var o="true"!==_.readCookie(t);if(o)continue}if(a=_.availableTools[i.engine],!a){var c=[];for(var d in _.availableTools)c.push(d);throw new Error("No tool engine named "+i.engine+", available: "+c.join(",")+".")}s=new a(i),s.id=r,e[r]=s}return e},_.preprocessArguments=function(n,e,t,r){function i(n){return r&&_.isString(n)?n.toLowerCase():n}function a(n){var r={};for(var o in n)if(n.hasOwnProperty(o)){var c=n[o];r[o]=_.isObject(c)?a(c):_.isArray(c)?s(c):i(_.replace(c,e,t))}return r}function s(n){for(var r=[],s=0,o=n.length;o>s;s++){var c=n[s];_.isString(c)?c=i(_.replace(c,e,t)):c&&c.constructor===Object&&(c=a(c)),r.push(c)}return r}return n?s(n,r):n},_.execute=function(n,e,t,r){function i(i){var a=r[i||"default"];if(a)try{a.triggerCommand(n,e,t)}catch(s){_.logError(s)}}if(!_satellite.settings.hideActivity)if(r=r||_.tools,n.engine){var a=n.engine;for(var s in r){var o=r[s];o.settings&&o.settings.engine===a&&i(s)}}else n.tool instanceof Array?_.each(n.tool,function(n){i(n)}):i(n.tool)},_.notify=n.console?function(n,e){if(_.settings.notifications)switch(e){case 1:case 2:case 3:console.log("SATELLITE: "+n);break;case 4:console.warn("SATELLITE: "+n);break;case 5:console.error("SATELLITE: "+n);break;default:console.log("SATELLITE: Notify called with incorrect priority.")}}:function(){},_.cleanText=function(n){return null==n?null:_.trim(n).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},_.text=function(n){return n.textContent||n.innerText},_.specialProperties={text:_.text,cleanText:function(n){return _.cleanText(_.text(n))}},_.getObjectProperty=function(n,e,t){for(var i,a=e.split("."),s=n,o=_.specialProperties,c=0,d=a.length;d>c;c++){if(null==s)return r;var l=a[c];if(t&&"@"===l.charAt(0)){var p=l.slice(1);s=o[p](s)}else if(s.getAttribute&&(i=l.match(/^getAttribute\((.+)\)$/))){var u=i[1];s=s.getAttribute(u)}else s=s[l]}return s},_.getToolsByType=function(n){if(!n)throw new Error("Tool type is missing");var e=[];for(t in _.tools){var r=_.tools[t];r.settings&&r.settings.engine===n&&e.push(r)}return e},_.setVar=function(){var n=_.data.customVars;if(null==n&&(_.data.customVars={},n=_.data.customVars),"string"==typeof arguments[0]){var e=arguments[0];n[e]=arguments[1]}else if(arguments[0]){var t=arguments[0];for(var r in t)n[r]=t[r]}},_.dataElementSafe=function(n,e){if(arguments.length>2){var t=arguments[2];"pageview"===e?_.dataElementSafe.pageviewCache[n]=t:"session"===e?_.setCookie("_sdsat_"+n,t):"visitor"===e&&_.setCookie("_sdsat_"+n,t,730)}else{if("pageview"===e)return _.dataElementSafe.pageviewCache[n];if("session"===e||"visitor"===e)return _.readCookie("_sdsat_"+n)}},_.dataElementSafe.pageviewCache={},_.realGetDataElement=function(e){var t;return e.selector?_.hasSelector&&_.cssQuery(e.selector,function(n){if(n.length>0){var r=n[0];"text"===e.property?t=r.innerText||r.textContent:_.hasAttr(r,e.property)&&(t=r[e.property])}}):e.queryParam?t=e.ignoreCase?_.getQueryParamCaseInsensitive(e.queryParam):_.getQueryParam(e.queryParam):e.cookie?t=_.readCookie(e.cookie):e.jsVariable?t=_.getObjectProperty(n,e.jsVariable):e.customJS&&(t=e.customJS()),t},_.getDataElement=function(n,e,t){t=t||_.dataElements[n];var i=_.realGetDataElement(t);return i===r&&t.storeLength?i=_.dataElementSafe(n,t.storeLength):i!==r&&t.storeLength&&_.dataElementSafe(n,t.storeLength,i),i!==r||e||(i=t["default"]||""),t.forceLowerCase&&(i=i.toLowerCase()),i},_.getVar=function(t,i,a){var s,o,c=_.data.customVars,d=a?a.target||a.srcElement:null,l={URI:_.data.URI,uri:_.data.URI,protocol:e.location.protocol,hostname:e.location.hostname};if(_.dataElements&&t in _.dataElements)return _.getDataElement(t);if(o=l[t],o===r)if("this."===t.substring(0,5))t=t.slice(5),o=_.getObjectProperty(i,t,!0);else if("event."===t.substring(0,6))t=t.slice(6),o=_.getObjectProperty(a,t);else if("target."===t.substring(0,7))t=t.slice(7),o=_.getObjectProperty(d,t);else if("window."===t.substring(0,7))t=t.slice(7),o=_.getObjectProperty(n,t);else if("param."===t.substring(0,6))t=t.slice(6),o=_.getQueryParam(t);else if(s=t.match(/^rand([0-9]+)$/)){var p=Number(s[1]),u=(Math.random()*(Math.pow(10,p)-1)).toFixed(0);o=Array(p-u.length+1).join("0")+u}else o=_.getObjectProperty(c,t);return o},_.getVars=function(n,e,t){var r={};return _.each(n,function(n){r[n]=_.getVar(n,e,t)}),r},_.replace=function(n,e,t){return"string"!=typeof n?n:n.replace(/%(.*?)%/g,function(n,r){var i=_.getVar(r,e,t);return null==i?n:i})},_.searchVariables=function(n,e,t){if(!n||0===n.length)return"";for(var r=[],i=0,a=n.length;a>i;i++){var s=n[i],o=_.getVar(s,e,t);r.push(s+"="+escape(o))}return"?"+r.join("&")},_.fireRule=function(n,e,t){var r=n.trigger;if(r){for(var i=0,a=r.length;a>i;i++){var s=r[i];_.execute(s,e,t)}_.contains(_.fireOnceEvents,n.event)&&(n.expired=!0)}},_.isLinked=function(n){for(var e=n;e;e=e.parentNode)if(_.isLinkTag(e))return!0;return!1},_.firePageLoadEvent=function(n){for(var t=e.location,r={type:n,target:t},i=_.pageLoadRules,a=i.length;a--;){var s=i[a];_.ruleMatches(s,r,t)&&(_.notify('Rule "'+s.name+'" fired.',1),_.fireRule(s,t,r),i.splice(a,1))}for(var o in _.tools){var c=_.tools[o];c.endPLPhase&&c.endPLPhase(n)}},_.track=function(n){n=n.replace(/^\s*/,"").replace(/\s*$/,"");for(var e=0;e<_.directCallRules.length;e++){var t=_.directCallRules[e];if(t.name===n)return _.notify('Direct call Rule "'+n+'" fired.',1),void _.fireRule(t,location,{type:n})}_.notify('Direct call Rule "'+n+'" not found.',1)},_.basePath=function(){return _.data.host?("https:"===e.location.protocol?"https://"+_.data.host.https:"http://"+_.data.host.http)+"/":this.settings.basePath},_.setLocation=function(e){n.location=e},_.parseQueryParams=function(n){var e=function(n){var e=n;try{e=decodeURIComponent(n)}catch(t){}return e};if(""===n||_.isString(n)===!1)return{};0===n.indexOf("?")&&(n=n.substring(1));var t={},r=n.split("&");return _.each(r,function(n){n=n.split("="),n[1]&&(t[e(n[0])]=_.escapeForHtml(e(n[1])))}),t},_.getCaseSensitivityQueryParamsMap=function(n){var e=_.parseQueryParams(n),t={};for(var r in e)e.hasOwnProperty(r)&&(t[r.toLowerCase()]=e[r]);return{normal:e,caseInsensitive:t}},_.QueryParams=_.getCaseSensitivityQueryParamsMap(n.location.search),_.getQueryParam=function(n){return _.QueryParams.normal[n]},_.getQueryParamCaseInsensitive=function(n){return _.QueryParams.caseInsensitive[n.toLowerCase()]},_.encodeObjectToURI=function(n){if(_.isObject(n)===!1)return"";var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e.join("&")},_.readCookie=function(n){for(var t=n+"=",i=e.cookie.split(";"),a=0;a<i.length;a++){for(var s=i[a];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return r},_.setCookie=function(n,t,r){var i;if(r){var a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3),i="; expires="+a.toGMTString()}else i="";e.cookie=n+"="+t+i+"; path=/"},_.removeCookie=function(n){_.setCookie(n,"",-1)},_.getElementProperty=function(n,e){if("@"===e.charAt(0)){var t=_.specialProperties[e.substring(1)];if(t)return t(n)}return"innerText"===e?_.text(n):e in n?n[e]:n.getAttribute?n.getAttribute(e):r},_.propertiesMatch=function(n,e){if(n)for(var t in n){var r=n[t],i=_.getElementProperty(e,t);if("string"==typeof r&&r!==i)return!1;if(r instanceof RegExp&&!r.test(i))return!1}return!0},_.ruleMatches=function(n,t,r,i){var a=(e.location,n.condition),s=n.conditions,o=n.property,c=t.type,d=n.value,l=t.target||t.srcElement,p=r===l;if(n.event!==c)return!1;if(n.isDefault&&i>0)return!1;if(n.expired)return!1;if("inview"===c&&t.inviewDelay!==n.inviewDelay)return!1;if(!p&&(n.bubbleFireIfParent===!1||0!==i&&n.bubbleFireIfChildFired===!1))return!1;if(n.selector&&!_.matchesCss(n.selector,r))return!1;if(!_.propertiesMatch(o,r))return!1;if(null!=d)if("string"==typeof d){if(d!==r.value)return!1}else if(!d.test(r.value))return!1;if(a)try{if(!a.call(r,t,l))return _.notify('Condition for rule "'+n.name+'" not met.',1),!1}catch(u){return _.notify('Condition for rule "'+n.name+'" not met. Error: '+u.message,1),!1}if(s){var g=_.find(s,function(e){try{return!e.call(r,t,l)}catch(i){return _.notify('Condition for rule "'+n.name+'" not met. Error: '+i.message,1),!0}});if(g)return _.notify("Condition "+g.toString()+' for rule "'+n.name+'" not met.',1),!1}return!0},_.evtHandlers={},_.whenEvent=function(n,e){var t=_.evtHandlers;t[n]||(t[n]=[]),t[n].push(e)},_.isVMLPoisoned=function(n){if(!n)return!1;try{n.nodeName}catch(e){if("Attribute only valid on v:image"===e.message)return!0}return!1},_.handleEvent=function(n){if(!_.$data(n,"eventProcessed")){var e=n.type.toLowerCase(),t=n.target||n.srcElement,r=0,i=_.rules,a=(_.tools,_.evtHandlers[n.type]);if(_.isVMLPoisoned(t))return void _.notify("detected "+e+" on poisoned VML element, skipping.",1);a&&_.each(a,function(e){e(n)});var s=t&&t.nodeName;s?_.notify("detected "+e+" on "+t.nodeName,1):_.notify("detected "+e,1);for(var o=t;o;o=o.parentNode){var c=!1;if(_.each(i,function(e){_.ruleMatches(e,n,o,r)&&(_.notify('Rule "'+e.name+'" fired.',1),_.fireRule(e,o,n),r++,e.bubbleStop&&(c=!0))}),c)break}_.$data(n,"eventProcessed",!0)}},_.onEvent=e.querySelectorAll?function(n){_.handleEvent(n)}:function(){var n=[],e=function(e){e.selector?n.push(e):_.handleEvent(e)};return e.pendingEvents=n,e}(),_.fireEvent=function(n,e){_.onEvent({type:n,target:e})},_.registerEvents=function(n,e){for(var t=e.length-1;t>=0;t--){var r=e[t];_.$data(n,r+".tracked")||(_.addEventHandler(n,r,_.onEvent),_.$data(n,r+".tracked",!0))}},_.registerEventsForTags=function(n,t){for(var r=n.length-1;r>=0;r--)for(var i=n[r],a=e.getElementsByTagName(i),s=a.length-1;s>=0;s--)_.registerEvents(a[s],t)},_.setListeners=function(){_.registerEvents(e,["click","submit"])},_.setFormListeners=function(){_.registerEventsForTags(["input","select","textarea","button"],["select","change","focus","blur","keypress"])},_.setVideoListeners=function(){_.registerEventsForTags(["video"],["play","pause","ended","volumechange","stalled","timeupdate","loadeddata"])},_.readStoredSetting=function(e){return n.localStorage?(e="sdsat_"+e,n.localStorage.getItem(e)):null},_.loadStoredSettings=function(){var n=_.readStoredSetting("debug"),e=_.readStoredSetting("hide_activity");n&&(_.settings.notifications="true"===n),e&&(_.settings.hideActivity="true"===e)},_.isRuleActive=function(n,e){function t(n,e){return e=i(e,{hour:n[g](),minute:n[m]()}),Math.floor(Math.abs((n.getTime()-e.getTime())/864e5))}function r(n,e){function t(n){return 12*n[p]()+n[u]()}return Math.abs(t(n)-t(e))}function i(n,e){var t=new Date(n.getTime());for(var r in e){var i=e[r];switch(r){case"hour":t[h](i);break;case"minute":t[f](i);break;case"date":t[v](i)}}return t}function a(n,e){var t=n[g](),r=n[m](),i=e[g](),a=e[m]();return 60*t+r>60*i+a}function s(n,e){var t=n[g](),r=n[m](),i=e[g](),a=e[m]();return 60*i+a>60*t+r}var o=n.schedule;if(!o)return!0;var c=o.utc,d=c?"getUTCDate":"getDate",l=c?"getUTCDay":"getDay",p=c?"getUTCFullYear":"getFullYear",u=c?"getUTCMonth":"getMonth",g=c?"getUTCHours":"getHours",m=c?"getUTCMinutes":"getMinutes",h=c?"setUTCHours":"setHours",f=c?"setUTCMinutes":"setMinutes",v=c?"setUTCDate":"setDate";if(e=e||new Date,o.repeat){if(a(o.start,e))return!1;if(s(o.end,e))return!1;if(e<o.start)return!1;if(o.endRepeat&&e>=o.endRepeat)return!1;if("daily"===o.repeat){if(o.repeatEvery){var b=t(o.start,e);if(b%o.repeatEvery!==0)return!1}}else if("weekly"===o.repeat){if(o.days){if(!_.contains(o.days,e[l]()))return!1}else if(o.start[l]()!==e[l]())return!1;if(o.repeatEvery){var x=t(o.start,e);if(x%(7*o.repeatEvery)!==0)return!1}}else if("monthly"===o.repeat){if(o.repeatEvery){var y=r(o.start,e);if(y%o.repeatEvery!==0)return!1}if(o.nthWeek&&o.mthDay){if(o.mthDay!==e[l]())return!1;var w=Math.floor((e[d]()-e[l]()+1)/7);if(o.nthWeek!==w)return!1}else if(o.start[d]()!==e[d]())return!1}else if("yearly"===o.repeat){if(o.start[u]()!==e[u]())return!1;if(o.start[d]()!==e[d]())return!1;if(o.repeatEvery){var x=Math.abs(o.start[p]()-e[p]());if(x%o.repeatEvery!==0)return!1}}}else{if(o.start>e)return!1;if(o.end<e)return!1}return!0},_.isOutboundLink=function(n){if(!n.getAttribute("href"))return!1;var e=n.hostname,t=(n.href,n.protocol);if("http:"!==t&&"https:"!==t)return!1;var r=_.any(_.settings.domainList,function(n){return _.isSubdomainOf(e,n)});return r?!1:e!==location.hostname},_.isLinkerLink=function(n){return n.getAttribute&&n.getAttribute("href")?_.hasMultipleDomains()&&n.hostname!=location.hostname&&!n.href.match(/^javascript/i)&&!_.isOutboundLink(n):!1},_.isSubdomainOf=function(n,e){if(n===e)return!0;var t=n.length-e.length;return t>0?_.equalsIgnoreCase(n.substring(t),e):!1},_.getVisitorId=function(){var n=_.getToolsByType("visitor_id");return 0===n.length?null:n[0].getInstance()},_.filterRules=function(){function n(n){return _.ruleInScope(n,e)&&_.isRuleActive(n)?!0:!1}var e={hostname:location.hostname,protocol:location.protocol,URI:_.data.URI};_.rules=_.filter(_.rules,n),_.pageLoadRules=_.filter(_.pageLoadRules,n)},_.ruleInScope=function(n,e){function t(n,e){function t(n){return e.match(n)}var i=n.include,a=n.exclude;if(i&&r(i,e))return!0;if(a){if(_.isString(a)&&a===e)return!0;if(_.isArray(a)&&_.any(a,t))return!0;if(_.isRegex(a)&&t(a))return!0}return!1}function r(n,e){function t(n){return e.match(n)}return _.isString(n)&&n!==e?!0:_.isArray(n)&&!_.any(n,t)?!0:_.isRegex(n)&&!t(n)?!0:!1}var i=n.scope;if(!i)return!0;var a=i.URI,s=i.subdomains,o=i.domains,c=i.protocols;return a&&t(a,e.URI)?!1:s&&t(s,e.hostname)?!1:o&&r(o,e.hostname)?!1:c&&r(c,e.protocol)?!1:!0},_.backgroundTasks=function(){+new Date;_.setFormListeners(),_.setVideoListeners(),_.loadStoredSettings(),_.registerNewElementsForDynamicRules(),_.eventEmitterBackgroundTasks();+new Date},_.registerNewElementsForDynamicRules=function(){function n(e,t){var r=n.cache[e];return r?t(r):void _.cssQuery(e,function(r){n.cache[e]=r,t(r)})}n.cache={},_.each(_.dynamicRules,function(e){n(e.selector,function(n){_.each(n,function(n){_.$data(n,"dynamicRules.seen")||(_.$data(n,"dynamicRules.seen",!0),_.propertiesMatch(e.property,n)&&_.registerEvents(n,[e.event]))})})})},_.ensureCSSSelector=function(){return e.querySelectorAll?void(_.hasSelector=!0):(_.loadingSizzle=!0,_.sizzleQueue=[],void _.loadScript(_.basePath()+"selector.js",function(){if(!_.Sizzle)return void _.logError(new Error("Failed to load selector.js"));var n=_.onEvent.pendingEvents;_.each(n,function(n){_.handleEvent(n)},this),_.onEvent=_.handleEvent,_.hasSelector=!0,delete _.loadingSizzle,_.each(_.sizzleQueue,function(n){_.cssQuery(n[0],n[1])}),delete _.sizzleQueue}))},_.errors=[],_.logError=function(n){_.errors.push(n),_.notify(n.name+" - "+n.message,5)},_.pageBottom=function(){_.pageBottomFired=!0,_.firePageLoadEvent("pagebottom")},_.stagingLibraryOverride=function(){var n="true"===_.readStoredSetting("stagingLibrary");if(n){for(var t,r,i,a=e.getElementsByTagName("script"),s=/^(.*)satelliteLib-(.*)\.js$/,o=/^(.*)satelliteLib-(.*)-staging\.js$/,c=0,d=a.length;d>c&&(i=a[c].getAttribute("src"),!i||(t||(t=i.match(s)),r||(r=i.match(o)),!r));c++);if(t&&!r){var l=t[1]+"satelliteLib-"+t[2]+"-staging.js";return e.write('<script src="'+l+'"></script>'),!0}}return!1},_.checkAsyncInclude=function(){n.satellite_asyncLoad&&_.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},_.hasMultipleDomains=function(){return _.settings.domainList.length>1},_.handleOverrides=function(){if(y)for(var n in y)y.hasOwnProperty(n)&&(_.data[n]=y[n])},_.privacyManagerParams=function(){var e={};_.extend(e,_.settings.privacyManagement);var t=[];for(var r in _.tools){var i=_.tools[r],a=i.settings;a&&"sc"===a.engine&&t.push(i)}var s=_.map(t,function(e){var t=e.getS();return t&&t.trackingServer||e.getAccount(n.location.hostname)+".112.2o7.net"});e.adobeAnalyticsTrackingServers=s;for(var o=["bannerText","headline","introductoryText","customCSS"],c=0;c<o.length;c++){var d=o[c],l=e[d];if(l)if("text"===l.type)e[d]=l.value;else{if("data"!==l.type)throw new Error("Invalid type: "+l.type);e[d]=_.getVar(l.value)}}return e},_.loadPrivacyManager=function(){var n=_.basePath()+"privacy_manager.js";_.loadScript(n,function(){var n=_.privacyManager;n.configure(_.privacyManagerParams()),n.openIfNewVisitor()})},_.init=function(e){function t(){_.backgroundTasks(),setTimeout(t,_.settings.recheckEvery||3e3)}if(!_.stagingLibraryOverride()){_.configurationSettings=e;var i=e.tools;delete e.tools;for(var a in e)_[a]=e[a];_.data.customVars===r&&(_.data.customVars={}),_.data.queryParams=_.QueryParams.normal,_.handleOverrides(),_.detectBrowserInfo(),_.trackVisitorInfo&&_.trackVisitorInfo(),_.loadStoredSettings(),_.checkAsyncInclude(),_.ensureCSSSelector(),_.filterRules(),_.dynamicRules=_.filter(_.rules,function(n){return n.eventHandlerOnElement}),_.tools=_.initTools(i),_.initEventEmitters(),_.settings.forceLowerCase&&(_.data.URI=_.data.URI.toLowerCase()),_.settings.privacyManagement&&_.loadPrivacyManager(),_.hasSelector&&_.domReady(_.eventEmitterBackgroundTasks),_.setListeners(),_.domReady(t),_.firePageLoadEvent("pagetop"),_.domReady(function(){_.domReadyFired=!0,_.pageBottomFired||_.pageBottom(),_.firePageLoadEvent("domready")}),_.addEventHandler(n,"load",function(){_.firePageLoadEvent("windowload")})}},_.pageLoadPhases=["pagetop","pagebottom","domready","windowload"],_.loadEventBefore=function(n,e){return _.indexOf(_.pageLoadPhases,n)<=_.indexOf(_.pageLoadPhases,e)},_.flushPendingCalls=function(n){n.pending&&(_.each(n.pending,function(e){var t=e[0],r=e[1],i=e[2],a=e[3];t in n?n[t].apply(n,[r,i].concat(a)):n.emit?n.emit(t,r,i,a):_.notify("Failed to trigger "+t+" for tool "+n.id,1)}),delete n.pending)},_.setDebug=function(e){n.localStorage&&n.localStorage.setItem("sdsat_debug",e)},_.detectBrowserInfo=function(){function n(n){return function(e){for(var t in n){var r=n[t],i=r.test(e);if(i)return t}return"Unknown"}}var e=n({OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Chrome:/Chrome/,Firefox:/Firefox/,"IE Mobile":/IEMobile/,IE:/MSIE/,Safari:/Safari/}),t=n({iOS:/iPhone|iPad|iPod/,Blackberry:/BlackBerry/,"Symbian OS":/SymbOS/,Maemo:/Maemo/,Android:/Android [0-9\.]+;/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/ Windows /,MacOS:/Macintosh;/}),r=n({iPhone:/iPhone/,iPad:/iPad/,iPod:/iPod/,Nokia:/SymbOS|Maemo/,"Windows Phone":/IEMobile/,Blackberry:/BlackBerry/,Android:/Android [0-9\.]+;/,Desktop:/.*/}),i=navigator.userAgent;_.browserInfo={browser:e(i),os:t(i),deviceType:r(i)}},_.isHttps=function(){return"https:"==e.location.protocol},_.BaseTool=function(n){this.settings=n||{},this.forceLowerCase=_.settings.forceLowerCase,"forceLowerCase"in this.settings&&(this.forceLowerCase=this.settings.forceLowerCase)},_.BaseTool.prototype={triggerCommand:function(n,e,t){var r=this.settings||{};if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(n)&&t&&_.loadEventBefore(t.type,r.loadOn))return void this.queueCommand(n,e,t);var i=_.preprocessArguments(n.arguments,e,t,this.forceLowerCase),a=n.command,s=this["$"+a];s?s.apply(this,[e,t].concat(i)):this.$missing$?this.$missing$(a,e,t,i):_.notify("Failed to trigger "+a+" for tool "+this.id,1)},endPLPhase:function(){},isQueueable:function(n){return"cancelToolInit"!==n.command},isQueueAvailable:function(){return!this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(_.each(this.pending,function(n){this.triggerCommand.apply(this,n)},this),this.pending=[])},queueCommand:function(n,e,t){this.pending||(this.pending=[]),this.pending.push([n,e,t])},$cancelToolInit:function(){this._cancelToolInit=!0}},n._satellite=_,i.orientationChange=function(e){var t=0===n.orientation?"portrait":"landscape";e.orientation=t,_.onEvent(e)},_.availableEventEmitters.push(i),a.prototype.backgroundTasks=function(){_.each(this.rules,function(n){_.cssQuery(n.selector,function(n){if(n.length>0){var e=n[0];if(_.$data(e,"elementexists.seen"))return;_.$data(e,"elementexists.seen",!0),_.onEvent({type:"elementexists",target:e})}})})},_.availableEventEmitters.push(a),o.prototype={backgroundTasks:function(){var n=this.eventHandler;_.each(this.rules,function(e){_.cssQuery(e.selector||"video",function(e){_.each(e,function(e){_.$data(e,"videoplayed.tracked")||(_.addEventHandler(e,"timeupdate",_.throttle(n,100)),_.$data(e,"videoplayed.tracked",!0))})})})},evalRule:function(n,e){var t=e.event,r=n.seekable,i=r.start(0),a=r.end(0),s=n.currentTime,o=e.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(o){var c=o[2],d=Number(o[1]),l="%"===c?function(){return 100*(s-i)/(a-i)>=d}:function(){return s-i>=d};!_.$data(n,t)&&l()&&(_.$data(n,t,!0),_.onEvent({type:t,target:n}))}},onUpdateTime:function(n){var e=this.rules,t=n.target;if(t.seekable&&0!==t.seekable.length)for(var r=0,i=e.length;i>r;r++)this.evalRule(t,e[r])}},_.availableEventEmitters.push(o),c.prototype={backgroundTasks:function(){var n=this;_.each(this.rules,function(e){var t=e[1],r=e[0];_.cssQuery(t,function(e){_.each(e,function(e){n.trackElement(e,r)})})},this)},trackElement:function(n,e){var t=this,r=_.$data(n,"hover.delays");r?_.contains(r,e)||r.push(e):(_.addEventHandler(n,"mouseover",function(e){t.onMouseOver(e,n)}),_.addEventHandler(n,"mouseout",function(e){t.onMouseOut(e,n)}),_.$data(n,"hover.delays",[e]))},onMouseOver:function(n,e){var t=n.target||n.srcElement,r=n.relatedTarget||n.fromElement,i=(e===t||_.containsElement(e,t))&&!_.containsElement(e,r);i&&this.onMouseEnter(e)},onMouseEnter:function(n){var e=_.$data(n,"hover.delays"),t=_.map(e,function(e){return setTimeout(function(){_.onEvent({type:"hover("+e+")",target:n})},e)});_.$data(n,"hover.delayTimers",t)},onMouseOut:function(n,e){var t=n.target||n.srcElement,r=n.relatedTarget||n.toElement,i=(e===t||_.containsElement(e,t))&&!_.containsElement(e,r);i&&this.onMouseLeave(e)},onMouseLeave:function(n){var e=_.$data(n,"hover.delayTimers");e&&_.each(e,function(n){clearTimeout(n)})}},_.availableEventEmitters.push(c),d.prototype={initialize:function(){var n=this.twttr;n&&"function"==typeof n.ready&&n.ready(_.bind(this.bind,this))},bind:function(){this.twttr.events.bind("tweet",function(n){n&&(_.notify("tracking a tweet button",1),_.onEvent({type:"twitter.tweet",target:e}))})}},_.availableEventEmitters.push(d),l.prototype={initialize:function(){return this.FB=this.FB||n.FB,this.FB&&this.FB.Event&&this.FB.Event.subscribe?(this.bind(),!0):void 0},bind:function(){this.FB.Event.subscribe("edge.create",function(){_.notify("tracking a facebook like",1),_.onEvent({type:"facebook.like",target:e})}),this.FB.Event.subscribe("edge.remove",function(){_.notify("tracking a facebook unlike",1),_.onEvent({type:"facebook.unlike",target:e})}),this.FB.Event.subscribe("message.send",function(){_.notify("tracking a facebook share",1),_.onEvent({type:"facebook.send",target:e})})}},_.availableEventEmitters.push(l),p.offset=function(t){var r;try{r=t.getBoundingClientRect()}catch(i){}var a=e,s=a.documentElement,o=a.body,c=n,d=s.clientTop||o.clientTop||0,l=s.clientLeft||o.clientLeft||0,p=c.pageYOffset||s.scrollTop||o.scrollTop,u=c.pageXOffset||s.scrollLeft||o.scrollLeft,g=r.top+p-d,m=r.left+u-l;return{top:g,left:m}},p.getViewportHeight=function(){var t=n.innerHeight,r=e.compatMode;return r&&(t="CSS1Compat"==r?e.documentElement.clientHeight:e.body.clientHeight),t},p.getScrollTop=function(){return e.documentElement.scrollTop?e.documentElement.scrollTop:e.body.scrollTop},p.prototype={backgroundTasks:function(){var n=this.elements;_.each(this.rules,function(e){_.cssQuery(e.selector,function(t){var r=0;_.each(t,function(e){_.contains(n,e)||(n.push(e),r++)}),r&&_.notify(e.selector+" added "+r+" elements.",1)})}),this.track()},elementIsInView:function(n){var e=p.getViewportHeight(),t=p.getScrollTop(),r=p.offset(n).top,i=n.offsetHeight;return!(t>r+i||r>t+e)},checkInView:function(n,e){var t=_.$data(n,"inview");if(this.elementIsInView(n)){t||_.$data(n,"inview",!0);var r=this;this.processRules(n,function(t,i,a){if(e||!t.inviewDelay)_.$data(n,i,!0),_.onEvent({type:"inview",target:n,inviewDelay:t.inviewDelay});else if(t.inviewDelay){var s=_.$data(n,a);s&&clearTimeout(s),s=setTimeout(function(){r.checkInView(n,!0)},t.inviewDelay),_.$data(n,a,s)}})}else t&&_.$data(n,"inview",!1),this.processRules(n,function(e,t,r){var i=_.$data(n,r);i&&clearTimeout(i)})},track:function(){_.each(this.elements,function(n){this.checkInView(n)},this)},processRules:function(n,e){_.each(this.rules,function(t,r){var i=t.inviewDelay?"viewed_"+t.inviewDelay:"viewed",a="inview_timeout_id_"+r;_.$data(n,i)||_.matchesCss(t.selector,n)&&e(t,i,a)})}},_.availableEventEmitters.push(p),_.extend(u.prototype,{getInstance:function(){var n=this.settings;return n.mcOrgId?(this.instance||(this.instance=new Visitor(n.mcOrgId,n.namespace),this.applyInitVars(this.instance,n.initVars)),this.instance):(_.notify("Cannot return Visitor ID instance because the Marketing Cloud Organization ID is missing.",4),null)},applyInitVars:function(n,e){for(var t in e)n[t]=e[t];_.notify("Visitor ID: set variables.",1)}}),_.availableTools.visitor_id=u,_.inherit(g,_.BaseTool),_.extend(g.prototype,{name:"GA",initialize:function(){var e=this.settings,t=n._gaq,r=e.initCommands||[],i=e.customInit;
if(t||(_gaq=[]),this.isSuppressed())_.notify("GA: page code not loaded(suppressed).",1);else{if(!t&&!g.scriptLoaded){var a=_.isHttps(),s=(a?"https://ssl":"http://www")+".google-analytics.com/ga.js";e.url&&(s=a?e.url.https:e.url.http),_.loadScript(s),g.scriptLoaded=!0,_.notify("GA: page code loaded.",1)}{var o=(e.domain,e.trackerName),c=w.allowLinker(),d=e.account;_.settings.domainList||[]}_gaq.push([this.cmd("setAccount"),d]),c&&_gaq.push([this.cmd("setAllowLinker"),c]),_gaq.push([this.cmd("setDomainName"),w.cookieDomain()]),_.each(r,function(n){var e=[this.cmd(n[0])].concat(n.slice(1));_gaq.push(e)},this),i&&(this.suppressInitialPageView=!1===i(_gaq,o)),e.pageName&&this.$overrideInitialPageView(null,null,e.pageName)}this.initialized=!0,_.fireEvent(this.id+".configure",_gaq,o)},isSuppressed:function(){return this._cancelToolInit||this.settings.initTool===!1},tracker:function(){return this.settings.trackerName},cmd:function(n){var e=this.tracker();return e?e+"._"+n:"_"+n},$overrideInitialPageView:function(n,e,t){this.urlOverride=t},trackInitialPageView:function(){if(!this.isSuppressed()&&!this.suppressInitialPageView)if(this.urlOverride){var n=_.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,n)}else this.$missing$("trackPageview")},endPLPhase:function(n){var e=this.settings.loadOn;n===e&&(_.notify("GA: Initializing at "+n,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(n,e,t,r){if(!this._cancelToolInit){var i=(this.settings,this.tracker()),a=this.cmd(n),r=r?[a].concat(r):[a];_gaq.push(r),i?_.notify("GA: sent command "+n+" to tracker "+i+(r.length>1?" with parameters ["+r.slice(1).join(", ")+"]":"")+".",1):_.notify("GA: sent command "+n+(r.length>1?" with parameters ["+r.slice(1).join(", ")+"]":"")+".",1)}},$missing$:function(n,e,t,r){this.call(n,e,t,r)},$postTransaction:function(e,t,r){var i=_.data.customVars.transaction=n[r];this.call("addTrans",e,t,[i.orderID,i.affiliation,i.total,i.tax,i.shipping,i.city,i.state,i.country]),_.each(i.items,function(n){this.call("addItem",e,t,[n.orderID,n.sku,n.product,n.category,n.unitPrice,n.quantity])},this),this.call("trackTrans",e,t)},delayLink:function(n,e){var t=this;if(w.allowLinker()&&n.hostname.match(this.settings.linkerDomains)&&!_.isSubdomainOf(n.hostname,location.hostname)){_.preventDefault(e);var r=_.settings.linkDelay||100;setTimeout(function(){t.call("link",n,e,[n.href])},r)}},popupLink:function(e,t){if(n._gat){_.preventDefault(t);var r=this.settings.account,i=n._gat._createTracker(r),a=i._getLinkerUrl(e.href);n.open(a)}},$link:function(n,e){"_blank"===n.getAttribute("target")?this.popupLink(n,e):this.delayLink(n,e)},$trackEvent:function(n,e){var t=Array.prototype.slice.call(arguments,2);if(t.length>=4&&null!=t[3]){var r=parseInt(t[3],10);_.isNaN(r)&&(r=1),t[3]=r}this.call("trackEvent",n,e,t)}}),_.availableTools.ga=g,_.inherit(m,_.BaseTool),_.extend(m.prototype,{name:"GAUniversal",isPageCodeLoadSuppressed:function(){return this.settings.initTool===!1||this._cancelToolInit===!0},isCallSuppressed:function(){return this._cancelToolInit===!0},endPLPhase:function(n){var e=this.settings,t=e.loadOn;if(this.isPageCodeLoadSuppressed())return void _.notify("GAU: Page code not loaded(suppressed).",1);if(n===t){if(_.notify("GAU: Initializing at "+n,1),this.initialize(),this.flushQueue(),this.suppressInitialPageView)return;this.call("send","pageview")}},initialize:function(){var e="ga";n[e]=n[e]||this.createGAObject(),n.GoogleAnalyticsObject=e,_.notify("GAU: Page code loaded.",1),_.loadScriptOnce(this.getToolUrl());var t=this.settings;if(w.allowLinker()&&t.allowLinker!==!1?this.createAccountForLinker():this.createAccount(),this.executeInitCommands(),t.customInit){var r=t.customInit,i=r(n[e],this.getTrackerName());i===!1&&(this.suppressInitialPageView=!0)}this.initialized=!0},getTrackerName:function(){return this.settings.trackerSettings.name||""},createGAObject:function(){var n=function(){n.q.push(arguments)};return n.q=[],n.l=1*new Date,n},create:function(n){var e=this.settings.trackerSettings;e.cookieDomain||(e.cookieDomain=w.cookieDomain()),_.extend(e,n||{}),this.call("create",e)},createAccount:function(){this.create()},createAccountForLinker:function(){var n={};w.allowLinker()&&(n.allowLinker=!0),this.create(n),this.call("require","linker"),this.call("linker:autoLink",this.autoLinkDomains(),!1,!0)},autoLinkDomains:function(){var n=location.hostname;return _.filter(_.settings.domainList,function(e){return e!==n})},executeInitCommands:function(){var n=this.settings;n.initCommands&&_.each(n.initCommands,function(n){this.call.apply(this,n)},this)},call:function(){return"function"!=typeof ga?void _.notify("GA Universal function not found!",4):void(this.isCallSuppressed()||(arguments[0]=this.cmd(arguments[0]),this.log(_.toArray(arguments)),ga.apply(n,arguments)))},$missing$:function(n,e,t,r){r=r||[],r=[n].concat(r),this.call.apply(this,r)},getToolUrl:function(){var n=this.settings,e=_.isHttps();return n.url?e?n.url.https:n.url.http:(e?"https://ssl":"http://www")+".google-analytics.com/analytics.js"},cmd:function(n){var e=["send","set","get"],t=this.getTrackerName();return t&&-1!==_.indexOf(e,n)?t+"."+n:n},log:function(n){var e=n[0],t=this.getTrackerName()||"default",r="GA Universal: sent command "+e+" to tracker "+t;if(n.length>1){{_.stringify(n.slice(1))}r+=" with parameters "+_.stringify(n.slice(1))}r+=".",_.notify(r,1)}}),_.availableTools.ga_universal=m;var w={allowLinker:function(){return _.hasMultipleDomains()},cookieDomain:function(){var e=_.settings.domainList,t=_.find(e,function(e){var t=n.location.hostname;return _.equalsIgnoreCase(t.slice(t.length-e.length),e)}),r=t?"."+t:"auto";return r}};_.inherit(h,_.BaseTool),_.extend(h.prototype,{name:"SC",initialize:function(e){if(!this._cancelToolInit)if(this.settings.initVars=this.substituteVariables(this.settings.initVars,{type:e}),this.settings.initTool!==!1){var t=this.settings.sCodeURL||_.basePath()+"s_code.js";"object"==typeof t&&(t="https:"===n.location.protocol?t.https:t.http),t.match(/^https?:/)||(t=_.basePath()+t),this.settings.initVars&&this.$setVars(null,null,this.settings.initVars),_.loadScript(t,_.bind(this.onSCodeLoaded,this)),this.initializing=!0}else this.initializing=!0,this.pollForSC()},onSCodeLoaded:function(){this.initialized=!0,this.initializing=!1,_.notify("Adobe Analytics: loaded.",1),this.flushQueueExceptTrackLink(),this.sendBeacon(),this.flushQueue()},pollForSC:function(){_.poll(_.bind(function(){return"function"==typeof n.s_gi?(_.notify("Adobe Analytics: loaded (manual).",1),this.flushQueue(),this.initialized=!0,this.initializing=!1,!0):void 0},this))},flushQueueExceptTrackLink:function(){if(this.pending){for(var n=[],e=0;e<this.pending.length;e++){var t=this.pending[e],r=t[0];"trackLink"===r.command?n.push(t):this.triggerCommand.apply(this,t)}this.pending=n}},isQueueAvailable:function(){return!this.initialized},substituteVariables:function(n,e){var t={};for(var r in n){var i=n[r];t[r]=_.replace(i,location,e)}return t},endPLPhase:function(n){var e=this.settings.loadOn;n===e&&this.initialize(n)},$setVars:function(n,e,t){for(var r in t){var i=t[r];"function"==typeof i&&(i=i()),this.varBindings[r]=i}_.notify("Adobe Analytics: set variables.",2)},$customSetup:function(n,e,t){this.customSetupFuns.push(function(r){t.call(n,e,r)})},getAccount:function(e){return n.s_account?n.s_account:e&&this.settings.accountByHost?this.settings.accountByHost[e]||this.settings.account:this.settings.account},isValidSCInstance:function(n){return!!n&&"function"==typeof n.t&&"function"==typeof n.tl},getS:function(e,t){var r=t&&t.hostname||n.location.hostname,i=this.concatWithToolVarBindings(t&&t.setVars||this.varBindings),a=t&&t.addEvent||this.events,s=this.getAccount(r),o=n.s_gi;if(!o)return null;if(this.isValidSCInstance(e)||(e=null),!s&&!e)return _.notify("Adobe Analytics: tracker not initialized because account was not found",1),null;var e=e||o(s);e.sa&&this.settings.skipSetAccount!==!0&&this.settings.initTool!==!1&&e.sa(this.settings.account),this.applyVarBindingsOnTracker(e,i),a.length>0&&(e.events=a.join(","));var c=_.getVisitorId();return c&&(e.visitor=_.getVisitorId()),e},concatWithToolVarBindings:function(n){var e=this.settings.initVars||{};return _.map(["trackingServer","trackingServerSecure"],function(t){e[t]&&!n[t]&&(n[t]=e[t])}),n},applyVarBindingsOnTracker:function(n,e){for(var t in e)n[t]=e[t]},clearVarBindings:function(){this.varBindings={}},clearCustomSetup:function(){this.customSetupFuns=[]},sendBeacon:function(){var e=this.getS(n[this.settings.renameS||"s"]);return e?(_.fireEvent(this.id+".load",e),this.settings.customInit&&this.settings.customInit(e)===!1?void _.notify("Adobe Analytics: custom init suppressed beacon",1):(this.settings.executeCustomPageCodeFirst&&this.applyVarBindingsOnTracker(e,this.varBindings),this.executeCustomSetupFuns(e),e.t(),this.clearVarBindings(),this.clearCustomSetup(),void _.notify("Adobe Analytics: tracked page view",1))):void _.notify("Adobe Analytics: page code not loaded",1)},executeCustomSetupFuns:function(e){_.each(this.customSetupFuns,function(t){t.call(n,e)})},$trackLink:function(n,e,t){t=t||{};var r=t.type,i=t.linkName;!i&&n&&n.nodeName&&"a"===n.nodeName.toLowerCase()&&(i=n.innerHTML),i||(i="link clicked");var a=t&&t.setVars,s=t&&t.addEvent||[],o=this.getS(null,{setVars:a,addEvent:s});if(!o)return void _.notify("Adobe Analytics: page code not loaded",1);var c=o.linkTrackVars,d=o.linkTrackEvents,l=this.definedVarNames(a);t&&t.customSetup&&t.customSetup.call(n,e,o),s.length>0&&l.push("events"),o.products&&l.push("products"),l=this.mergeTrackLinkVars(o.linkTrackVars,l),s=this.mergeTrackLinkVars(o.linkTrackEvents,s),o.linkTrackVars=this.getCustomLinkVarsList(l);var p=_.map(s,function(n){return n.split(":")[0]});o.linkTrackEvents=this.getCustomLinkVarsList(p),o.tl(!0,r||"o",i),_.notify(["Adobe Analytics: tracked link ","using: linkTrackVars=",_.stringify(o.linkTrackVars),"; linkTrackEvents=",_.stringify(o.linkTrackEvents)].join(""),1),o.linkTrackVars=c,o.linkTrackEvents=d},mergeTrackLinkVars:function(n,e){return n&&(e=n.split(",").concat(e)),e},getCustomLinkVarsList:function(n){var e=_.indexOf(n,"None");return e>-1&&n.length>1&&n.splice(e,1),n.join(",")},definedVarNames:function(n){n=n||this.varBindings;var e=[];for(var t in n)/^(eVar[0-9]+)|(prop[0-9]+)$/.test(t)&&e.push(t);return e},$trackPageView:function(n,e,t){var r=t&&t.setVars,i=t&&t.addEvent||[],a=this.getS(null,{setVars:r,addEvent:i});return a?(a.linkTrackVars="",a.linkTrackEvents="",this.executeCustomSetupFuns(a),t&&t.customSetup&&t.customSetup.call(n,e,a),a.t(),this.clearVarBindings(),this.clearCustomSetup(),void _.notify("Adobe Analytics: tracked page view",1)):void _.notify("Adobe Analytics: page code not loaded",1)},$postTransaction:function(e,t,r){var i=_.data.transaction=n[r],a=this.varBindings,s=this.settings.fieldVarMapping;if(_.each(i.items,function(n){this.products.push(n)},this),a.products=_.map(this.products,function(n){var e=[];if(s&&s.item)for(var t in s.item){var r=s.item[t];e.push(r+"="+n[t]),"event"===r.substring(0,5)&&this.events.push(r)}var i=["",n.product,n.quantity,n.unitPrice*n.quantity];return e.length>0&&i.push(e.join("|")),i.join(";")},this).join(","),s&&s.transaction){var o=[];for(var c in s.transaction){var r=s.transaction[c];o.push(r+"="+i[c]),"event"===r.substring(0,5)&&this.events.push(r)}a.products.length>0&&(a.products+=","),a.products+=";;;;"+o.join("|")}},$addEvent:function(){for(var n=2,e=arguments.length;e>n;n++)this.events.push(arguments[n])},$addProduct:function(){for(var n=2,e=arguments.length;e>n;n++)this.products.push(arguments[n])}}),_.availableTools.sc=h,_.inherit(f,_.BaseTool),_.extend(f.prototype,{name:"Default",$loadIframe:function(e,t,r){var i=r.pages,a=r.loadOn,s=_.bind(function(){_.each(i,function(n){this.loadIframe(e,t,n)},this)},this);a||s(),"domready"===a&&_.domReady(s),"load"===a&&_.addEventHandler(n,"load",s)},loadIframe:function(n,t,r){var i=e.createElement("iframe");i.style.display="none";var a=_.data.host,s=r.data,o=this.scriptURL(r.src),c=_.searchVariables(s,n,t);a&&(o=_.basePath()+o),o+=c,i.src=o;var d=e.getElementsByTagName("body")[0];d?d.appendChild(i):_.domReady(function(){e.getElementsByTagName("body")[0].appendChild(i)})},scriptURL:function(n){var e=_.settings.scriptDir||"";return e+n},$loadScript:function(e,t,r){var i=r.scripts,a=r.sequential,s=r.loadOn,o=_.bind(function(){a?this.loadScripts(e,t,i):_.each(i,function(n){this.loadScripts(e,t,[n])},this)},this);s?"domready"===s?_.domReady(o):"load"===s&&_.addEventHandler(n,"load",o):o()},loadScripts:function(n,e,t){function r(){if(a.length>0&&i){var c=a.shift();c.call(n,e,s)}var d=t.shift();if(d){var l=_.data.host,p=o.scriptURL(d.src);l&&(p=_.basePath()+p),_.loadScript(p,r),i=d}}try{var i,t=t.slice(0),a=this.asyncScriptCallbackQueue,s=e.target||e.srcElement,o=this}catch(c){console.error("scripts is",_.stringify(t))}r()},$loadBlockingScript:function(n,e,t){var r=t.scripts,i=(t.loadOn,_.bind(function(){_.each(r,function(t){this.loadBlockingScript(n,e,t)},this)},this));i()},loadBlockingScript:function(n,e,t){var r=this.scriptURL(t.src),i=_.data.host,a=e.target||e.srcElement;i&&(r=_.basePath()+r),this.argsForBlockingScripts.push([n,e,a]),_.loadScriptSync(r)},pushAsyncScript:function(n){this.asyncScriptCallbackQueue.push(n)},pushBlockingScript:function(n){var e=this.argsForBlockingScripts.shift(),t=e[0];n.apply(t,e.slice(1))},$writeHTML:function(n,t){if(_.domReadyFired)return void _.notify("Command writeHTML failed. You may be using an async installation of Satellite.",1);if("pagebottom"!==t.type&&"pagetop"!==t.type)return void _.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);for(var r=2,i=arguments.length;i>r;r++){var a=arguments[r].html;a=_.replace(a,n,t),e.write(a)}},linkNeedsDelayActivate:function(e,t){t=t||n;var r=e.tagName,i=e.getAttribute("target");return r&&"a"!==r.toLowerCase()?!1:i?"_blank"===i?!1:"_top"===i?t.top===t:"_parent"===i?!1:"_self"===i?!0:t.name?i===t.name:!0:!0},$delayActivateLink:function(n,e){if(this.linkNeedsDelayActivate(n)){_.preventDefault(e);var t=_.settings.linkDelay||100;setTimeout(function(){_.setLocation(n.href)},t)}},isQueueable:function(n){return"writeHTML"!==n.command}}),_.availableTools["default"]=f,_.inherit(v,_.BaseTool),_.extend(v.prototype,{name:"tnt",myInitialize:function(){var e=this.settings.mboxURL;"object"==typeof e&&(e="https:"===n.location.protocol?e.https:e.http),e.match(/^https?:/)||(e=_.basePath()+e),this.settings.initTool!==!1?this.settings.loadSync?(_.loadScriptSync(e),this.onScriptLoaded()):(_.loadScript(e,_.bind(this.onScriptLoaded,this)),this.initializing=!0):this.initialized=!0},onScriptLoaded:function(){_.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},$addMbox:function(n,e,t){var r=t.mboxGoesAround,i=r+"{visibility: hidden;}",a=this.appendStyle(i);r in this.styleElements||(this.styleElements[r]=a),this.initialized?this.$addMBoxStep2(null,null,t):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[t]},n,e)},$addMBoxStep2:function(t,r,i){var a=this.generateID(),s=this;_.addEventHandler(n,"load",_.bind(function(){_.cssQuery(i.mboxGoesAround,function(t){var r=t[0];if(r){var o=e.createElement("div");o.id=a,r.parentNode.replaceChild(o,r),o.appendChild(r),n.mboxDefine(a,i.mboxName);var c=[i.mboxName];i.arguments&&(c=c.concat(i.arguments)),n.mboxUpdate.apply(null,c),s.reappearWhenCallComesBack(r,a,i.timeout,i)}})},this)),this.lastMboxID=a},generateID:function(){var n="_sdsat_mbox_"+String(Math.random()).substring(2)+"_";return n},appendStyle:function(n){var t=e.getElementsByTagName("head")[0],r=e.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(e.createTextNode(n)),t.appendChild(r),r},reappearWhenCallComesBack:function(n,e,t,r){function i(){var n=a.styleElements[r.mboxGoesAround];n&&(n.parentNode.removeChild(n),delete a.styleElements[r.mboxGoesAround])}var a=this;_.cssQuery('script[src*="omtrdc.net"]',function(n){var e=n[0];if(e){_.scriptOnLoad(e.src,e,function(){_.notify("Test & Target: request complete",1),i(),clearTimeout(r)});var r=setTimeout(function(){_.notify("Test & Target: bailing after "+t+"ms",1),i()},t)}else _.notify("Test & Target: failed to find T&T ajax call, bailing",1),i()})}}),_.availableTools.tnt=v,_.inherit(b,_.BaseTool),_.extend(b.prototype,{initialize:function(){var n=this.settings;if(this.settings.initTool!==!1){var e=n.url;e="string"==typeof e?_.basePath()+e:_.isHttps()?e.https:e.http,_.loadScript(e,_.bind(this.onLoad,this)),this.initializing=!0}else this.initialized=!0},isQueueAvailable:function(){return!this.initialized},onLoad:function(){this.initialized=!0,this.initializing=!1,this.settings.initialBeacon&&this.settings.initialBeacon(),this.flushQueue()},endPLPhase:function(n){var e=this.settings.loadOn;n===e&&(_.notify(this.name+": Initializing at "+n,1),this.initialize())},$fire:function(n,e,t){return this.initializing?void this.queueCommand({command:"fire",arguments:[t]},n,e):void t.call(this.settings,n,e)}}),_.availableTools.am=b,_.availableTools.adlens=b,_.ecommerce={addItem:function(){var n=[].slice.call(arguments);_.onEvent({type:"ecommerce.additem",target:n})},addTrans:function(){var n=[].slice.call(arguments);_.data.saleData.sale={orderId:n[0],revenue:n[2]},_.onEvent({type:"ecommerce.addtrans",target:n})},trackTrans:function(){_.onEvent({type:"ecommerce.tracktrans",target:[]})}},_satellite.init({tools:{},pageLoadRules:[{name:"Adhesive Pixel",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5356fc9079030c941600053a.js",data:[]}]}]}],conditions:[function(){return"true"!==n.dataLayer.isLocalUser}],event:"domready"},{name:"Affiliate Redirect",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-521f6b576efda0def100004d.js",data:[]}]}]}],conditions:[function(){return"affiliates:blinds"==n.dataLayer.page||"affiliates:builddirect"==n.dataLayer.page}],event:"pagebottom"},{name:"Bing Product Ads conversion tracking",trigger:[{command:"writeHTML",arguments:[{html:'<script type="text/javascript"> if (!window.mstag) mstag = {loadTag :\nfunction(){},time : (new Date()).getTime()};</script> <script\nid="mstag_tops" type="text/javascript"\nsrc="//flex.msn.com/mstag/site/7b818556-cef8-4092-96f6-98585f4bede2/mstag.js"></script>\n<script type="text/javascript"> mstag.loadTag("analytics",\n{dedup:"1",domainId:"2509178",type:"1",revenue:"",actionid:"222990"})</script>\n<noscript> <iframe\nsrc="//flex.msn.com/mstag/tag/7b818556-cef8-4092-96f6-98585f4bede2/analytics.html?dedup=1&domainId=2509178&type=1&revenue=&actionid=222990"\nframeborder="0" scrolling="no" width="1" height="1"\nstyle="visibility:hidden;display:none"> </iframe> </noscript>'}]}],conditions:[function(){return"checkout:ordercomplete"===dataLayer.page}],event:"pagebottom"},{name:"Criteo Remarketing",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-525dd16624ac4d4b4c0001ce.js",data:[]}]}]}],conditions:[function(){return"true"!==dataLayer.isLocalUser}],event:"domready"},{name:"DBM Pixel",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-53c6c17beb9e1ca6890002a3.js",data:[]}]}]}],conditions:[function(){return"checkout:ordercomplete"===dataLayer.page&&"true"!==dataLayer.isLocalUser}],event:"domready"},{name:"Datalogix Pixels",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-532779b3333f9949040002a8.js",data:[]}]}]}],conditions:[function(){return"checkout:ordercomplete"===n.dataLayer.page||"checkout:ordercomplete"===n.dataLayer.page||"support:thank_you_for_signup"===n.dataLayer.page}],event:"domready"},{name:"Employee Spiffs Display",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-541877b27f0bb67ae2000099.js",data:[]}]}]}],conditions:[function(){return"product:display"===n.dataLayer.page&&"true"===n.dataLayer.isLocalUser}],event:"domready"},{name:"ExchangeSolutions",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5418874fffac847b3700019b.js",data:[]}]}]}],conditions:[function(){return"true"!==n.dataLayer.isLocalUser}],event:"domready"},{name:"FanPlayr",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-54188d00de04d8900100016c.js",data:[]}]}]}],conditions:[function(){return"true"!==n.dataLayer.isLocalUser||"true"===_satellite.readStoredSetting("debug")}],event:"domready"},{name:"Fix Substore Chat Header",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-532b1d339439ee297a000167.js",data:[]}]}]}],conditions:[function(){return n.dataLayer.storeId!==r&&248!==n.dataLayer.storeId}],event:"domready"},{name:"Flooring Sample Adwords Conversion Pixel",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-541cb6380a02b82af2000344.js",data:[]}]}]}],conditions:[function(){return"checkout:finishsampleconfirmation"===n.dataLayer.page}],event:"domready"},{name:"Global",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-53d83c3e314763126a0003cc.js",data:[]},{src:"satellite-53d83c3e314763126a0003cd.js",data:[]}]}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-53d83c3e314763126a0003cb.js",data:[]}]}]}],event:"pagebottom"},{name:"Google AdSense Dynamic",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-538d58ef8f6737588800001d.js",data:[]}]}]}],event:"domready"},{name:"Google AdSense Product Drop Dynamic",trigger:[{command:"writeHTML",arguments:[{html:'<script src="http://www.google.com/adsense/search/ads.js" type="text/javascript"></script>'}]},{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-538fb11861b647fe0f00044c.js",data:[]}]}]}],conditions:[function(){return"search:browse"===dataLayer.page&&dataLayer.currentPageResults>0}],event:"pagebottom"},{name:"Google Analytics: Global",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5418d3a8ffac847b370003ad.js",data:[]}]}]}],event:"pagebottom"},{name:"Google Async Conversion",trigger:[{command:"writeHTML",arguments:[{html:'<script src="//www.googleadservices.com/pagead/conversion_async.js" async></script>'}]}],event:"pagetop"},{name:"Google Partnership",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-537396db6fc183c280000215.js",data:[]}]}]}],event:"domready"},{name:"Google Remarketing",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-51edb56d467bc6a85b00008c.js",data:[]}]}]}],conditions:[function(){return!_satellite.readCookie("hideGoogleRemarketing")}],event:"pagebottom"},{name:"Heap",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-52a7a078a03b2f052a000109.js",data:[]}]}]}],conditions:[function(){return dataLayer.page.match("checkout")}],event:"pagebottom"},{name:"Homeadvisor Iframe Injection",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-538d10d1b3d1a7d60f00045f.js",data:[]}]}]}],conditions:[function(){return"learn:article"===dataLayer.page}],event:"domready"},{name:"JobVite Modal Window",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-51c497de810659ec55000091.js",data:[]}]}]}],scope:{URI:{include:["careers"]}},event:"pagebottom"},{name:"Mouse Flow - test",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-53a328897fcb26c92500019a.js",data:[]}]}]}],event:"domready"},{name:"Order Complete",trigger:[{command:"writeHTML",arguments:[{html:'<!-- Google Code for Purchase/Sale Conversion Page -->\n<script type="text/javascript">\n/* <![CDATA[ */\nvar google_conversion_id = 994819728;\nvar google_conversion_language = "en";\nvar google_conversion_format = "2";\nvar google_conversion_color = "ffffff";\nvar google_conversion_label = "NBhVCKixgSEQkP2u2gM";\nvar google_conversion_value = 0;\n/* ]]> */\n</script>\n<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">\n</script>\n<noscript>\n<div style="display:inline;">\n<img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/994819728/?value=0&label=NBhVCKixgSEQkP2u2gM&guid=ON&script=0"/>\n</div>\n</noscript>\n\n<img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/1022055801/?value=%dataLayer.subTotal%&label=jH7uCJ-WuQIQ-aqt5wM&guid=ON&script=0"/>'},{html:"<!-- Google Services -->\n<!-- Google Code for Purchase/Sale Conversion Page Build.com Account -->\n<div style=\"display:inline;\">\n<img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/1022055801/?value=%dataLayer.subTotal%&amp;oid=%dataLayer.orderNumber%&amp;label=jH7uCJ-WuQIQ-aqt5wM&amp;guid=ON&amp;script=0\"/>\n</div>\n\n<!-- Google Code for purchase/sale Conversion Page Build.com New Account -->\n<div style=\"display:inline;\">\n<img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/974722015/?value=%dataLayer.subTotal%&amp;oid=%dataLayer.orderNumber%&amp;label=xbkmCNmuzAIQ36fk0AM&amp;guid=ON&amp;script=0\"/>\n</div>\n\n<!-- Google Code for Purchase/Sale Conversion Page Build.com YouTube -->\n<div style=\"display:inline;\">\n<img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/994819728/?value=%dataLayer.subTotal%&amp;oid=%dataLayer.orderNumber%&amp;label=NBhVCKixgSEQkP2u2gM&amp;guid=ON&amp;script=0\"/>\n</div>\n\n\n<!-- Microsoft Tracking Pixel -->\n<img height=\"1\" width=\"1\" src=\"//view.atdmt.com/action/apmbld_MMNBuildcomConversion_7\" data-loaded=\"satellite\" />\n<script id=\"mstag_btm\" type=\"text/javascript\" src=\"//flex.atdmt.com/mstag/tag/c776040e-9515-4ea7-b9d6-fcba1c96cdcc/analytics.html?dedup=1&domainId=1161024&type=1&actionid=51592\"></script>\n\n<!-- All the things -->\n<script>\n  // Vars for all to use\n  var dlOrderNumber = window.dataLayer.orderNumber || 0,\n    dlSubTotal = window.dataLayer.subTotal || 0,\n    dlCartItems = window.dataLayer.cartItems || [];\n\n  // Responsys\n  /*\n   * This pixel is being added with JS because responses used an \"=\" in one of the\n   * the parameter values.  This has to be encoded and has a percent sign in the encoding.\n   * This encoding is conflicting with satellite's placeholder variables which\n   * use a percent sign\n   */\n  (function($) {\n    var img = '<img src=\"https://e.build.com/pub/cct?_ri_=X0Gzc2X%3DWQpglLjHJlTQGkH0veizfwSUdSBzfDzc4AzdM8b&_ei_=Eqpr2EVcsDsa7FF77ecd7Xk&amp;OrderID=' + dlOrderNumber + '&amp;OrderTotal=' + dlSubTotal + '\" width=\"1\" height=\"1\">';\n    $('body').append(img);\n  }(jQuery));\n\n  // Shopping.com\n  var _roi = _roi || [];\n  _roi.push(['_setMerchantId', 482489]); // required\n  _roi.push(['_setOrderId', dlOrderNumber]); // unique customer order ID\n  _roi.push(['_setOrderAmount', dlSubTotal]); // order total without tax and shipping\n  _roi.push(['_setOrderNotes', '']); // notes on order, up to 50 characters\n  for (var i = 0; i < dlCartItems.length; i++) {\n    _roi.push(['_addItem',\n      dlCartItems[i].uniqueId, // Merchant sku\n      dlCartItems[i].name, // Product name\n      '', // Category id\n      '', // Category name\n      dlCartItems[i].price, // Unit price\n      dlCartItems[i].quantity // Item quantity\n    ]);\n\n    _roi.push(['_trackTrans']);\n  }\n  jQuery.getScript('https://stat.dealtime.com/ROI/ROI2.js');\n\n\n  // Olapic\n  if (window.location.host === 'www.build.com') {\n    var o_track = document.createElement('script');\n    var customer_id = 3;\n    var amount = dlSubTotal;\n    o_track.src = \"https://widgets.photorank.me/register_checkout?customer_id=\" + customer_id + \"&amount=\" + amount;\n    o_track.type = 'text/javascript';\n    document.getElementsByTagName(\"head\")[0].appendChild(o_track);\n  }\n\n\n  // NexTag\n  window.id = 4697186;\n  window.rev = dlSubTotal;\n  window.order = dlOrderNumber;\n  window.prods = [],\n  window.units = [];\n  var domain = window.location.host.split('.').slice(1, 2).join('.');\n\n  (function($) {\n\n    window.rev = dlSubTotal;\n    window.order = dlOrderNumber;\n    window.prods = [],\n    window.units = [];\n\n    $.each(dlCartItems, function(index, item) {\n      window.prods.push(item.productId);\n      window.prods.push(item.quantity);\n    });\n\n    window.prods = window.prods.join('|');\n    window.units = window.units.join('|');\n\n    jQuery.getScript(\"https://imgsrv.nextag.com/imagefiles/includes/roitrack.js\");\n\n  }(jQuery));\n\n  // Become.com\n  var become_merchant_id = 'FFAD763D9F709AAA';\n  var become_order_num = dlOrderNumber;\n  var become_purchased_items = [];\n\n  var become_item = {};\n\n  for (i = 0; i < dlCartItems.length; i++) {\n    become_item = {};\n    become_item.productid = dlCartItems[i].uniqueId;\n    //become_item.category = '';\n    become_item.price = dlCartItems[i].price;\n    become_item.quantity = dlCartItems[i].quantity;\n    become_purchased_items.push(become_item);\n  }\n\n  jQuery.getScript('https://partner.become.com/roi-tracker2/conversion.js');\n\n  // Price Grabber\n\n  jQuery(function($) {\n    var pgUrl = 'https://www.pricegrabber.com/conversion.php?retid=17180';\n\n    for (i = 0; i < dlCartItems.length; i++) {\n      pgUrl += '&' + 'item' + (i + 1) + '=' + encodeURIComponent(dlCartItems[i].manufacturer) + '|' + encodeURIComponent(dlCartItems[i].productId) + '|' + dlCartItems[i].price + '|' + dlCartItems[i].uniqueId + '||' + dlCartItems[i].quantity;\n    }\n\n    jQuery('body').append('<img src=\"' + pgUrl + '\" />');\n  });\n\n  // Pronto\n  var merchant_account_id = '96747';\n  var m_order_id = dlOrderNumber;\n  var m_order_value = dlSubTotal;\n  var m_product_id = [];\n  var m_product_name = [];\n  var m_price = [];\n  var m_quantity = [];\n\n  for (i = 0; i < dlCartItems.length; i++) {\n    m_product_id.push(dlCartItems[i].uniqueId);\n    m_product_name.push(encodeURIComponent(dlCartItems[i].name));\n    m_price.push(dlCartItems[i].price);\n    m_quantity.push(dlCartItems[i].quantity);\n  }\n\n  m_product_id = m_product_id.join();\n  m_product_name = m_product_name.join();\n  m_price = m_price.join();\n  m_quantity = m_quantity.join();\n\n  jQuery.getScript('https://merchant.pronto.com/js/roi.js');\n</script>"},{html:'<script src="//display-stg.ugc.bazaarvoice.com/static/MoreHome/en_US/bvapi.js"></script>\n<script>\njQuery(function() {\n\n	var bvData = {\n			"orderId": window.dataLayer.orderNumber || 0,\n			"tax": window.dataLayer.orderSummary.totalTax || 0,\n			"shipping": window.dataLayer.orderSummary.shippingCost || 0,\n			"total": window.dataLayer.subTotal || 0,\n			"city": window.dataLayer.orderSummary.shipCity || \'\',\n			"state": window.dataLayer.orderSummary.shipState || \'\',\n			"country": window.dataLayer.orderSummary.shipCountry || \'\',\n			"currency": "USD",\n			"items": []\n		},\n		dlCartItems = window.dataLayer.cartItems || [],\n		i, j,\n		item,\n		data,\n		subItem;\n\n	for (i = 0; i < dlCartItems.length; i++) {\n		item = dlCartItems[i];\n		data = {\n			"sku": encodeURIComponent(item.productId.toLowerCase() + \',\' + item.manufacturer.toLowerCase()).replace(\'%\', \'_\'),\n			"name": item.manufacturer + \' \' + item.productId,\n			"price": item.price,\n			"quantity": item.quantity\n		};\n		bvData.items.push(data);\n		if (typeof item.subItems !== \'undefined\') {\n			for (j = 0; j < item.subItems.length; j++) {\n				subItem = item.subItems[j];\n				data = {\n					"sku": encodeURIComponent(item.productId.toLowerCase() + \',\' + subItem.manufacturer.toLowerCase()).replace(\'%\', \'_\'),\n					"name": subItem.manufacturer + \' \' + subItem.productId,\n					"price": subItem.price,\n					"quantity": subItem.quantity\n				};\n				bvData.items.push(data);\n			}\n		}\n	}\n\n	$BV.SI.trackTransactionPageView(bvData);\n});\n</script>'}]}],conditions:[function(){return _satellite.textMatch(_satellite.getQueryParam("page"),"checkout:ordercomplete")}],event:"pagebottom"},{name:"PLA FIX",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-528c00553873dafe75000214.js",data:[]}]}]}],conditions:[function(){return"product:display"==dataLayer.page}],event:"domready"},{name:"Quantcast",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-53556cc902692dfeea0001ad.js",data:[]}]}]}],conditions:[function(){return"true"!==dataLayer.isLocalUser
}],event:"pagebottom"},{name:"RR - Cart",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\njQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n	function guidCheck(){\n		if(C('guId') !== null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie\n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n\n    RR.jsonCallback = function(data){\n      \n      /*shows the recs when they are completely loaded  - Chase 1/6/14 */\n      $(window).trigger('recommendations.loaded');\n        \n        \n     	$.each(RR.data.JSON.placements, function(index, item){		\n					var order = index + 1,\n					heading = item.strat_message,\n					items = item.items.slice(0,4);\n\n					if($('#rr_'+order).length < 1){\n												var content = '<div id=\"rr_'+order+'\" class=\"modulebox rr-recs-beta rrBox\">'+\n														'<div class=\"rr_boxwrapper\">'+\n															'<div class=\"rr_boxhead\">'+\n																'<h2 class=\"heading\">'+heading+'</h2>'+\n															'</div>'+\n															'<div class=\"rr_boxbody rrContainer\">'+\n																'<div class=\"recs-stage\">'+\n																	'<ul class=\"featured_list\">'+\n																	'</ul>'+\n																'</div>'+\n															'</div>'+\n														'</div>'+\n													'</div>';\n            \n						$('#checkoutbuttons').before(content);\n					}\n\n					$('#rr_'+order).find('h2').text(heading);\n\n					$.each(items, function(index, item){\n						var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n							rrName = (item.name.length <= 50) ? item.name : (item.name.slice(0,50) + '&hellip;'),\n							rrPrice = (parseFloat(item.price.replace(',', '')) == parseFloat(item.price_high)) ? '$'+parseFloat(item.price.replace(',','')).toFixed(2) : ('$'+parseFloat(item.price.replace(',','')).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2)),\n							rrIntCmp = 'recs_page:cart_recBox:cartPage',\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrTitle = (item.title.length <= 50) ? item.title : (item.title.slice(0,50) + '&hellip;');\n						var rrItem = '<li class=\"rr_product\">'+\n														'<div class=\"rr_product_image_link\">'+\n															'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n																'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n															'</a>'+\n														'</div>'+\n														'<div class=\"rr_product_name\">'+\n															'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n														'</div>'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n						rrItem +=	'<div class=\"rr_list\">'+\n													'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n												'</div>';\n						\n\n							if(typeof rrRating != 'undefined'){\n								rrItem += '<div class=\"reviewRating\">'+\n														'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n															'<div></div>'+\n														'</div>'+\n														'<meta content=\"'+rrRating+'\">';\n								if(rrReviews > 0){\n									rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n								}\n							}\n							rrItem += '</li>';\n							$('#rr_'+order).find('.featured_list').append(rrItem);\n					});\n\n				});\n      /*\n      jQuery('.rr-recs-beta a[data-intcmp]').on('click', function(e){\n        e.preventDefault();\n        var $this = jQuery(this);\n        var s = window.s_gi(window.s_account);\n        s.linkTrackVars = \"eVar2\";\n        s.eVar2 = $this.data('intcmp');\n        s.tl(this, 'o', 'Internal Campaign');\n        setTimeout(function(){\n          window.location = $this.attr('href');\n        }, 300);\n      });\n			*/\n			var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n\n      jQuery.getScript(jCarouselUrl, function() {\n				jQuery('.rrBox.rr-recs-beta').each(function() {\n					var recs = jQuery(this),\n						c = recs.find('.jcarousel'),\n						prev = recs.find('.featured-previous'),\n						next = recs.find('.featured-next'),\n						pages = jQuery('<div class=\"recs-pages\"/>'),\n						count = c.data('size') || 4,\n						maxPages = 0;\n\n					if(typeof c != 'undefined' && typeof c.length != 'undefined' && c.length){\n						c.on('scrollend.jcarousel', function(e, carousel) {\n							var t = c.jcarousel('target'),\n								pos = t.index(),\n								page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n							pages.find('span').removeClass('active').eq(page).addClass('active');\n						}).on('create.jcarousel', function(e, carousel) {\n\n							var total = c.jcarousel('items').length,\n								i = 0;\n\n							maxPages = Math.ceil(total / count);\n\n							c.append(pages);\n\n							for(i = 0; i < maxPages; i++) {\n								var span = jQuery('<span />').click(function() {\n										c.jcarousel('scroll', jQuery(this).index()*count, true);\n									});\n								pages.append(span);\n							}\n\n							pages.find('span').eq(0).addClass('active');\n						}).jcarousel({\n							scroll: count,\n							wrap: 'both'\n						});\n\n						prev.click(function(e) {\n							e.preventDefault();\n							c.jcarousel('scroll', \"-=\"+count, true);\n						});\n\n						next.click(function(e) {\n							e.preventDefault();\n							c.jcarousel('scroll', \"+=\"+count, true);\n						});\n					}\n				});\n			});\n    };\n\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n	\n  if(dataLayer.emailId){ \n    R3_COMMON.setUserId(dataLayer.emailId);\n  } else if(dataLayer.userId){ \n    R3_COMMON.setUserId(dataLayer.userId);\n  } else { \n    R3_COMMON.setUserId(C('CID'));\n  }\n\n  //Recs Segmenting Data -Chase\n  //R3_COMMON.addSegment('isPro', dataLayer.isPro);\n  //R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n  \n	//request recommendations for page area (1 per call)\n	R3_COMMON.addPlacementType('cart_page.rr1');\n\n	window.R3_CART = new r3_cart();\n\n	if(dataLayer.cartQuantity > 0){\n		for (var i = 0; i < dataLayer.cartItems.length; i++){\n			var manu = dataLayer.cartItems[i].manufacturer;\n			var productId = dataLayer.cartItems[i].productId;\n			var id = (manu + productId).toLowerCase().replace(/[^a-zA-Z0-9]+/g, '');\n			R3_CART.addItemId(id);\n      if(typeof dataLayer.cartItems[i].subItems !== 'undefined'){\n        for (var j = 0; j < dataLayer.cartItems[i].subItems.length; j++ ){\n          var subManu = dataLayer.cartItems[i].subItems[j].manufacturer;\n          var subProductId = dataLayer.cartItems[i].subItems[j].productId;\n          var subId = (subManu + subProductId).toLowerCase().replace(/[^a-zA-Z0-9]+/g, '');\n          R3_CART.addItemId(subId);\n        } \n      }\n		}\n	}\n\n	r3();\n\n	rr_flush_onload();\n});\n}(jQuery));\n</script>\n\n<style>\n.rrBox{\n	margin: 10px;\n	width: 665px;\n	float: left;\n}\n.rrContainer{\n	float: right;\n	padding: 5px 15px;\n}\n.rrItem{\n	width: 155px;\n	float: left;\n	margin-top: 15px;\n}\n.rrItem:hover .rrImg{\n	border: 1px solid #999999;\n}\n.rrImg{\n	width: 130px;\n	border: 1px solid #EFEFEF;\n}\n.rrInner{\n	float: left;\n	margin: 0px 5px;	\n}\n.rrTitle{\n	text-decoration: underline;\n	font-size: 13px;\n}\n.rrName{\n	font-size: 10px;\n	line-height: 1.35;\n	color: #333333;\n	display: block;\n\n}\n.rrReview{\n	margin-top: 3px;\n}\n.rrPrice{\n	color: #414141;\n	font-size: 12px;\n	font-weight: bold;\n}\n\n 		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin: auto;\n		  margin-bottom: 20px;\n		  margin-left: 3px;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		  margin-top: 15px;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 30px;\n		  position: relative;\n		  width: 100%;\n		  left: -14px;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  text-align: center;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 645px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -28px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n		  background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		  position: relative;\n		  top: 150px;\n		}\n		.rr-recs-beta.staging a.right,\n		.rr-recs-beta.staging a.left{\n			background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 645px;\n			height: 275px;\n			position: relative;\n		}\n	/*\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300;\n	  font-size: 22px;\n	  color: #A2A2A2;\n	  display: block;\n	  padding: 30px 0px 25px 0px;\n	}\n	*/\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 15px 10px;\n		position: relative;\n		border-bottom: 1px solid #EFEFEF;\n		width: 645px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 265px;\n	  font-size: 12px;\n	  padding-top: 10px;\n		padding-right: 4px;\n		padding-left: 4px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n</style>"}]}],conditions:[function(){return"cart:cart"===dataLayer.page}],event:"pagebottom"},{name:"RR - Category",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\n  jQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n	function guidCheck(){\n		if(C('guId') == null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie \n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n  \n  //rich relevance stuff\n  RR.jsonCallback = function(){\n   \n    \n    /*shows the recs when they are completely loaded  - Chase 1/6/14 */\n    $(window).trigger('recommendations.loaded');\n        \n        \n        \n		$.each(RR.data.JSON.placements, function(index, item){\n					var order = index + 1,\n					heading = item.strat_message,\n					items = item.items;\n\n					if($('#rr_'+order).length < 1){\n																\n						var content = '<div id=\"rr_'+order+'\" class=\"modulebox rr-recs-beta rrBox clearfix\">'+\n														'<div class=\"rr_boxwrapper\">'+\n															'<div class=\"rr_boxhead\">'+\n																'<h2 class=\"heading\">'+heading+'</h2>'+\n															'</div>'+\n															'<div class=\"rr_boxbody rrContainer clearfix\">'+\n																'<div class=\"recs-slider-buttons\">'+\n																	'<div class=\"recs-scroller-head\">'+\n																		'<a class=\"featured-previous left\" href=\"javascript:void(0);\"></a>'+\n																		'<a class=\"featured-next right\" href=\"javascript:void(0);\"></a>'+\n																	'</div>'+\n																	'<div style=\"clear: both;\"></div>'+\n																'</div>'+\n																'<div class=\"recs-stage jcarousel clearfix\">'+\n																	'<ul class=\"featured_list clearfix\">'+\n																	'</ul>'+\n																'</div>'+\n															'</div>'+\n														'</div>'+\n													'</div>';\n						$('#main').append(content);\n					}\n\n					$('#rr_'+order).find('h3').text(heading);\n					var id = '';\n					if(dataLayer.id != '' && dataLayer.id != 0 && dataLayer.id != undefined){\n						id = ':'+dataLayer.id;\n					}\n					$.each(items, function(index, item){\n						var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n							rrName = item.name,\n							rrIntCmp = 'recs_page:'+dataLayer.page+id+'_recBox:categoryPage',\n							rrPrice = (parseFloat(item.price.replace(',', '')) == parseFloat(item.price_high)) ? '$'+parseFloat(item.price.replace(',','')).toFixed(2) : ('$'+parseFloat(item.price.replace(',','')).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2)),\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrTitle = (item.title.length <= 75) ? item.title : (item.title.slice(0,75) + '&hellip;');\n						var rrItem = '<li class=\"rr_product\">'+\n														'<div class=\"rr_product_image_link\">'+\n															'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n																'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n															'</a>'+\n														'</div>'+\n														'<div class=\"rr_product_name\">'+\n															'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n														'</div>'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\"href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n						rrItem +=	'<div class=\"rr_list\">'+\n													'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n												'</div>';\n						\n\n							if(typeof rrRating != 'undefined'){\n								rrItem += '<div class=\"reviewRating\">'+\n														'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n															'<div></div>'+\n														'</div>'+\n														'<meta content=\"'+rrRating+'\">';\n								if(rrReviews > 0){\n									rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n								}\n							}\n							rrItem += '</li>';\n\n\n						$('#rr_'+order).find('.featured_list').append(rrItem);\n					});\n\n		});\n\n    $('.rr-recs-beta a[data-intcmp]').on('click', function(e){\n    	e.preventDefault();\n      var $this = $(this);\n      var s = window.s_gi(window.s_account);\n      s.linkTrackVars = \"eVar2\";\n      s.eVar2 = $this.data('intcmp');\n      s.tl(this, 'o', 'Internal Campaign');\n      setTimeout(function(){\n      	window.location = $this.attr('href');\n      }, 300);\n    });\n\n\n			var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n			jQuery.getScript(jCarouselUrl, function() {\n				jQuery('.rrBox.rr-recs-beta').each(function() {\n					var recs = jQuery(this),\n						c = recs.find('.jcarousel'),\n						prev = recs.find('.featured-previous'),\n						next = recs.find('.featured-next'),\n						pages = jQuery('<div class=\"recs-pages\"/>'),\n						count = c.data('size') || 4,\n						maxPages = 0;\n\n\n					c.on('scrollend.jcarousel', function(e, carousel) {\n						var t = c.jcarousel('target'),\n							pos = t.index(),\n							page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n						pages.find('span').removeClass('active').eq(page).addClass('active');\n					}).on('create.jcarousel', function(e, carousel) {\n\n						var total = c.jcarousel('items').length,\n							i = 0;\n\n						maxPages = Math.ceil(total / count);\n\n						c.append(pages);\n\n						for(i = 0; i < maxPages; i++) {\n							var span = jQuery('<span />').click(function() {\n									c.jcarousel('scroll', jQuery(this).index()*count, true);\n								});\n							pages.append(span);\n						}\n\n						pages.find('span').eq(0).addClass('active');\n					}).jcarousel({\n						scroll: count,\n						wrap: 'both'\n					});\n\n					prev.click(function(e) {\n						e.preventDefault();\n						c.jcarousel('scroll', \"-=\"+count, true);\n					});\n\n					next.click(function(e) {\n						e.preventDefault();\n						c.jcarousel('scroll', \"+=\"+count, true);\n					});\n\n				});\n			});\n\n	};\n\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n  if(dataLayer.emailId){\n    R3_COMMON.setUserId(dataLayer.emailId);\n  }else if(dataLayer.userId){\n    R3_COMMON.setUserId(dataLayer.userId);\n  }else{\n    R3_COMMON.setUserId(C('CID'));\n  }\n\n  //Recs Segmenting Data -Chase\n    // R3_COMMON.addSegment('isPro', dataLayer.isPro);\n    // R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n\n	//request recommendations for page area (1 per call)\n	R3_COMMON.addPlacementType('category_page.rr1');\n	\n  window.R3_CATEGORY = new r3_category();\n 	R3_CATEGORY.setId(dataLayer.id.toString());\n    // dataLayer.name is giving us the document.title.\n    // we need to grab the last category name from the\n    // breadcrumbs\n    var breadcrumbList = dataLayer.breadcrumbs.split('|');\n    var catName = breadcrumbList[breadcrumbList.length -1];\n    R3_CATEGORY.setName(catName);\n  \n  	r3();\n\n	rr_flush_onload();\n});\n}(jQuery));\n</script>\n<style>\n.rrBox{\n}\n.rrContainer{\n	padding: 5px 15px 10px 15px;\n}\n.rrItem{\n	width: 25%;\n	margin-top: 15px;\n	float: left;\n}\n.rrItem:hover .rrImg{\n	border: 1px solid #999999;\n}\n.rrImg{\n	width: 165px;\n	border: 1px solid #EFEFEF;\n}\n.rrInner{\n	float: left;\n	margin: 0px 5px;	\n}\n.rrTitle{\n	text-decoration: underline;\n}\n.rrName{\n	line-height: 1.35;\n	color: #333333;\n	display: block;\n\n}\n.rrReview{\n	margin-top: 3px;\n}\n.rrPrice{\n	color: #548951;\n	font-size: 12px;\n	font-weight: bold;\n}\n 		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin: auto;\n		  margin-bottom: 20px;\n		  margin-left: 3px;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		  margin-top: 15px;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 30px;\n		  position: relative;\n		  top: -90px;\n		  width: 100%;\n		  left: -14px;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  margin: 0 auto;\n		  overflow: hidden;\n		  position: relative;\n		  _padding-bottom: 24px;\n		  height: auto;\n		  padding: 0px 15px 10px;\n	    width: 680px;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 3800px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -28px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n		  background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		}\n		.rr-recs-beta.staging a.right,\n		.rr-recs-beta.staging a.left{\n			background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 3800px;\n			height: 275px;\n			position: relative;\n		}\n	/*\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300;\n	  font-size: 22px;\n	  color: #A2A2A2;\n	  display: block;\n	  padding: 30px 0px 25px 0px;\n	}\n	*/\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 15px 10px;\n		position: relative;\n		clear: both;\n		border-bottom: 1px solid #EFEFEF;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 300px;\n	  font-size: 12px;\n	  padding-top: 10px;\n		padding-right: 25px;\n		padding-left: 0px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n</style>\n"}]}],conditions:[function(){return"browse:category"==dataLayer.page
}],event:"pagebottom"},{name:"RR - Custom Pages",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\n  jQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n	function guidCheck(){\n		if(C('guId') == null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie \n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n  \n  //rich relevance stuff\n  RR.jsonCallback = function(){\n    \n          /*shows the recs when they are completely loaded  - Chase 1/6/14 */\n      $(window).trigger('recommendations.loaded');\n        \n        \n		$.each(RR.data.JSON.placements, function(index, item){\n					var order = index + 1,\n					heading = item.strat_message,\n					items = item.items;\n\n					if($('#rr_'+order).length < 1){\n																\n						var content = '<div id=\"rr_'+order+'\" class=\"modulebox rr-recs-beta rrBox clearfix\">'+\n														'<div class=\"rr_boxwrapper\">'+\n															'<div class=\"rr_boxhead\">'+\n																'<h2 class=\"heading\">'+heading+'</h2>'+\n															'</div>'+\n															'<div class=\"rr_boxbody rrContainer clearfix\">'+\n																'<div class=\"recs-slider-buttons\">'+\n																	'<div class=\"recs-scroller-head\">'+\n																		'<a class=\"featured-previous left\" href=\"javascript:void(0);\"></a>'+\n																		'<a class=\"featured-next right\" href=\"javascript:void(0);\"></a>'+\n																	'</div>'+\n																	'<div style=\"clear: both;\"></div>'+\n																'</div>'+\n																'<div class=\"recs-stage jcarousel clearfix\">'+\n																	'<ul class=\"featured_list clearfix\">'+\n																	'</ul>'+\n																'</div>'+\n															'</div>'+\n														'</div>'+\n													'</div>';\n						$('#main-container').append(content);\n					}\n\n					$('#rr_'+order).find('h3').text(heading);\n					var id = '';\n					if(dataLayer.id != '' && dataLayer.id != 0 && dataLayer.id != undefined){\n						id = ':'+dataLayer.id;\n					}\n					$.each(items, function(index, item){\n						var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n							rrName = item.name,\n							rrIntCmp = 'recs_page:'+dataLayer.page+id+'_recBox:categoryPage',\n							rrPrice = (item.price == item.price_high) ? '$'+parseFloat(item.price).toFixed(2) : ('$'+parseFloat(item.price).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2)),\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrTitle = (item.title.length <= 75) ? item.title : (item.title.slice(0,75) + '&hellip;');\n						var rrItem = '<li class=\"rr_product\">'+\n														'<div class=\"rr_product_image_link\">'+\n															'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n																'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n															'</a>'+\n														'</div>'+\n														'<div class=\"rr_product_name\">'+\n															'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n														'</div>'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\"href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n						rrItem +=	'<div class=\"rr_list\">'+\n													'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n												'</div>';\n						\n\n							if(typeof rrRating != 'undefined'){\n								rrItem += '<div class=\"reviewRating\">'+\n														'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n															'<div></div>'+\n														'</div>'+\n														'<meta content=\"'+rrRating+'\">';\n								if(rrReviews > 0){\n									rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n								}\n							}\n							rrItem += '</li>';\n\n\n						$('#rr_'+order).find('.featured_list').append(rrItem);\n					});\n\n		});\n\n    $('.rr-recs-beta a[data-intcmp]').on('click', function(e){\n    	e.preventDefault();\n      var $this = $(this);\n      var s = window.s_gi(window.s_account);\n      s.linkTrackVars = \"eVar2\";\n      s.eVar2 = $this.data('intcmp');\n      s.tl(this, 'o', 'Internal Campaign');\n      setTimeout(function(){\n      	window.location = $this.attr('href');\n      }, 300);\n    });\n\n\n			var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n			jQuery.getScript(jCarouselUrl, function() {\n				jQuery('.rrBox.rr-recs-beta').each(function() {\n					var recs = jQuery(this),\n						c = recs.find('.jcarousel'),\n						prev = recs.find('.featured-previous'),\n						next = recs.find('.featured-next'),\n						pages = jQuery('<div class=\"recs-pages\"/>'),\n						count = c.data('size') || 4,\n						maxPages = 0;\n\n\n					c.on('scrollend.jcarousel', function(e, carousel) {\n						var t = c.jcarousel('target'),\n							pos = t.index(),\n							page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n						pages.find('span').removeClass('active').eq(page).addClass('active');\n					}).on('create.jcarousel', function(e, carousel) {\n\n						var total = c.jcarousel('items').length,\n							i = 0;\n\n						maxPages = Math.ceil(total / count);\n\n						c.append(pages);\n\n						for(i = 0; i < maxPages; i++) {\n							var span = jQuery('<span />').click(function() {\n									c.jcarousel('scroll', jQuery(this).index()*count, true);\n								});\n							pages.append(span);\n						}\n\n						pages.find('span').eq(0).addClass('active');\n					}).jcarousel({\n						scroll: count,\n						wrap: 'both'\n					});\n\n					prev.click(function(e) {\n						e.preventDefault();\n						c.jcarousel('scroll', \"-=\"+count, true);\n					});\n\n					next.click(function(e) {\n						e.preventDefault();\n						c.jcarousel('scroll', \"+=\"+count, true);\n					});\n\n				});\n			});\n\n	};\n\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n  if(dataLayer.emailId){\n    R3_COMMON.setUserId(dataLayer.emailId);\n  }else if(dataLayer.userId){\n    R3_COMMON.setUserId(dataLayer.userId);\n  }else{\n    R3_COMMON.setUserId(C('CID'));\n  }\n    // add values when including more custom pages\n    var pageDict = {\n      		'affiliates:smarthome': { id: '113828', name: 'Smart Home' }\n    		};\n\n  //Recs Segmenting Data -Chase\n    // R3_COMMON.addSegment('isPro', dataLayer.isPro);\n    // R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n        \n	//request recommendations for page area (1 per call)\n	R3_COMMON.addPlacementType('category_page.rr1');\n	\n  window.R3_CATEGORY = new r3_category();\n 	R3_CATEGORY.setId(pageDict[dataLayer.page].id);\n    // dataLayer.name is giving us the document.title.\n    // we need to grab the last category name from the\n    // breadcrumbs\n    var breadcrumbList = dataLayer.breadcrumbs.split('|');\n    var catName = breadcrumbList[breadcrumbList.length -1];\n    R3_CATEGORY.setName(pageDict[dataLayer.page].name);\n  \n  	r3();\n\n	rr_flush_onload();\n});\n}(jQuery));\n</script>\n<style>\n.rrBox{\n}\n.rrContainer{\n	padding: 5px 15px 10px 15px;\n}\n.rrItem{\n	width: 25%;\n	margin-top: 15px;\n	float: left;\n}\n.rrItem:hover .rrImg{\n	border: 1px solid #999999;\n}\n.rrImg{\n	width: 165px;\n	border: 1px solid #EFEFEF;\n}\n.rrInner{\n	float: left;\n	margin: 0px 5px;	\n}\n.rrTitle{\n	text-decoration: underline;\n}\n.rrName{\n	line-height: 1.35;\n	color: #333333;\n	display: block;\n\n}\n.rrReview{\n	margin-top: 3px;\n}\n.rrPrice{\n	color: #548951;\n	font-size: 12px;\n	font-weight: bold;\n}\n 		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin: auto;\n		  margin-bottom: 20px;\n		  margin-left: 3px;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		  margin-top: 15px;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 30px;\n		  position: relative;\n		  top: -90px;\n		  width: 100%;\n		  left: -14px;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  margin: 0 auto;\n		  overflow: hidden;\n		  position: relative;\n		  _padding-bottom: 24px;\n		  height: auto;\n		  padding: 0px 15px 10px;\n	    width: 680px;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 3800px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -28px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n		  background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		}\n		.rr-recs-beta.staging a.right,\n		.rr-recs-beta.staging a.left{\n			background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 3800px;\n			height: 275px;\n			position: relative;\n		}\n	/*\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300;\n	  font-size: 22px;\n	  color: #A2A2A2;\n	  display: block;\n	  padding: 30px 0px 25px 0px;\n	}\n	*/\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 15px 10px;\n		position: relative;\n		clear: both;\n		border-bottom: 1px solid #EFEFEF;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 300px;\n	  font-size: 12px;\n	  padding-top: 10px;\n		padding-right: 25px;\n		padding-left: 0px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n</style>\n"}]}],conditions:[function(){return-1!=_satellite.indexOf(["affiliates:smarthome"],dataLayer.page)}],event:"pagebottom"},{name:"RR - Homepage",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\njQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n  \n	function guidCheck(){\n		if(C('guId') == null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie\n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n\n  //rich relevance stuff\n  RR.jsonCallback = function(){\n    \n    /*displays recs after they are 100% loaded 1/6/14 -Chase */\n    $(window).trigger('recommendations.loaded');\n\n		$.each(RR.data.JSON.placements, function(index, item){\n			var order = index + 1,\n					heading = item.strat_message,\n					items = item.items,\n					recsHintClass = '',\n					dataSize = 5;\n\n			if(items.length){\n				if(typeof item.hint_item != 'undefined'){\n					recsHintClass = 'has-hint-item';\n					heading = \"Hope you don't mind, we have found some similar options for you\";\n					dataSize = 4;\n				}\n				if($('#rr_'+order).length < 1){\n					var	recsContent = '<div id=\"rr_'+order+'\" style=\"display:none\" class=\"clearfix rr-recs-beta '+recsHintClass+'\">'+\n															'<div class=\"rr_boxwrapper\">'+\n																'<div class=\"rr_boxhead\">'+\n																	'<h2>'+heading+'</h2>'+\n																'</div>'+\n																'<div class=\"rr_boxbody section-shadow clearfix\">'+\n																	'<div class=\"recs-slider-wrapper\">';\n\n					if(typeof item.hint_item != 'undefined'){\n						recsContent += '<div class=\"customers-viewed\">Customers who viewed this also viewed</div>';\n					}\n\n					recsContent += '<div class=\"recs-slider-buttons\">'+\n													'<div class=\"recs-scroller-head\">'+\n														'<a class=\"featured-previous left\" href=\"javascript:void(0);\"></a>'+\n														'<a class=\"featured-next right\" href=\"javascript:void(0);\"></a>'+\n													'</div>'+\n													'<div style=\"clear: both;\"></div>'+\n												'</div>'+\n												'<div class=\"recs-stage jcarousel\" data-size=\"'+dataSize+'\">'+\n													'<ul class=\"featured_list clearfix\">'+\n													'</ul>'+\n												'</div>'+\n											'</div>'+\n										'</div>'+\n									'</div>'+\n								'</div>';\n\n					$('#recs').prepend(recsContent);\n				}\n			if(typeof item.hint_item != 'undefined'){\n\n				var hint = item.hint_item,\n						hintBrand = hint.brand,\n						hintId = hint.id,\n						hintImgUrl = hint.imageURL,\n						hintIndex = hint.index,\n						hintLinkUrl = hint.linkURL,\n						position = index + 1,\n						hintIntCmp = 'recs_page:'+dataLayer.page+hintId+'_recBox:homePage'+order+'_position:'+position+'_product:'+hintId,\n						hintName = hint.name,\n						hintPrice = (parseFloat(hint.price.replace(',', '')) == parseFloat(hint.price_high)) ? '$'+parseFloat(hint.price.replace(',','')).toFixed(2) : ('$'+parseFloat(hint.price.replace(',','')).toFixed(2)+' - $'+parseFloat(hint.price_high).toFixed(2)),\n						hintRating = hint.rating,\n						hintReviews = hint.reviews,\n						hintAlpha = (index == 0) ? 'alpha' : '',\n						hintTitle = (hint.title.length <= 45) ? hint.title : (hint.title.slice(0,45) + '&hellip;');\n\n				var rrHint = '<div class=\"rr_product hint_product\">'+\n												'<div class=\"you-viewed\">You Viewed</div>'+\n												'<div class=\"product-info-wrapper\">'+\n												'<div class=\"rr_product_image_link\">'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\" id=\"recs-product-image-link\">'+\n														'<img src=\"'+hintImgUrl+'\" alt=\"'+hintName+'\" width=\"150\" class=\"recs-product-image\">'+\n													'</a>'+\n												'</div>'+\n												'<div class=\"rr_product_name\">'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\">'+hintName+'</a>'+\n												'</div>'+\n												'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+hintTitle+'</span></a>'+\n													'<div class=\"rr_list\">'+\n														'<span class=\"rr_list_price\">'+hintPrice+'</span>'+\n													'</div>';\n\n				if(typeof hintRating != 'undefined'){\n						rrHint += '<div class=\"reviewRating\">'+\n												'<div class=\"rating r'+(Math.round(hintRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+hintRating+' out of 5\">'+\n													'<div></div>'+\n												'</div>'+\n												'<meta content=\"'+hintRating+'\">';\n						if(hintReviews > 0){\n							rrHint += '<span class=\"reviewCount\">('+hintReviews+')</span></div>';\n						}\n				}\n				rrHint += '</div></div>';\n\n				$('#rr_'+order+' .rr_boxbody').prepend(rrHint);\n\n\n			}\n				$.each(items, function(index, item){\n					var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n 							position = index + 1,\n							rrIntCmp = 'recs_page:'+dataLayer.page+rrId+'_recBox:homePage'+order+'_position:'+position+'_product:'+rrId,\n							rrName = item.name,\n							rrPrice = (parseFloat(item.price.replace(',', '')) == parseFloat(item.price_high)) ? '$'+parseFloat(item.price.replace(',','')).toFixed(2) : ('$'+parseFloat(item.price.replace(',','')).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2)),\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrAlpha = (index == 0) ? 'alpha' : '',\n							rrTitle = (item.title.length <= 45) ? item.title : (item.title.slice(0,45) + '&hellip;');\n					\n							\n					var rrItem = '<li class=\"rr_product\">'+\n													'<div class=\"rr_product_image_link\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n															'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n														'</a>'+\n													'</div>'+\n													'<div class=\"rr_product_name\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n													'</div>'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n					\n														rrItem +=	'<div class=\"rr_list\">'+\n																					'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n																				'</div>';\n													\n						\n																					if(typeof rrRating != 'undefined'){\n																							rrItem += '<div class=\"reviewRating\">'+\n																													'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n																														'<div></div>'+\n																													'</div>'+\n																													'<meta content=\"'+rrRating+'\">';\n																							if(rrReviews > 0){\n																								rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n																							}\n																							rrItem += '</li>';\n																						\n}\n\n					$('#rr_'+order+' .featured_list').append(rrItem);\n					\n				});\n				if(dataLayer.environment && dataLayer.environment != 'production'){\n					$('#rr_'+order).addClass('staging');\n				}\n				$('#rr_'+order).slideDown();\n			}\n		});\n    $('#recs a[data-intcmp]').on('click', function(e){\n    	e.preventDefault();\n      var $this = $(this);\n      var s = window.s_gi(window.s_account);\n      s.linkTrackVars = \"eVar2\";\n      s.eVar2 = $this.data('intcmp');\n      s.tl(this, 'o', 'Internal Campaign');\n      setTimeout(function(){\n      	window.location = $this.attr('href');\n      }, 300);\n    });\n		var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n\n    jQuery.getScript(jCarouselUrl, function() {\n			jQuery('#recs .rr-recs-beta').each(function() {\n				var recs = jQuery(this),\n					c = recs.find('.jcarousel'),\n					prev = recs.find('.featured-previous'),\n					next = recs.find('.featured-next'),\n					pages = jQuery('<div class=\"recs-pages\"/>'),\n					count = c.data('size') || 5,\n					maxPages = 0;\n\n\n				c.on('scrollend.jcarousel', function(e, carousel) {\n					var t = c.jcarousel('target'),\n						pos = t.index(),\n						page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n					pages.find('span').removeClass('active').eq(page).addClass('active');\n				}).on('create.jcarousel', function(e, carousel) {\n\n					var total = c.jcarousel('items').length,\n						i = 0;\n\n					maxPages = Math.ceil(total / count);\n\n					c.append(pages);\n\n					for(i = 0; i < maxPages; i++) {\n						var span = jQuery('<span />').click(function() {\n								c.jcarousel('scroll', jQuery(this).index()*count, true);\n							});\n						pages.append(span);\n					}\n\n					pages.find('span').eq(0).addClass('active');\n				}).jcarousel({\n					scroll: count,\n					wrap: 'both'\n				});\n\n				prev.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"-=\"+count, true);\n				});\n\n				next.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"+=\"+count, true);\n				});\n\n			});\n		});\n		\n	};\n\n\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n  if(dataLayer.emailId){\n    R3_COMMON.setUserId(dataLayer.emailId);\n  }else if(dataLayer.userId){\n    R3_COMMON.setUserId(dataLayer.userId);\n  }else{\n    R3_COMMON.setUserId(C('CID'));\n  }\n\n  //Recs Segmenting Data -Chase\n  //R3_COMMON.addSegment('isPro', dataLayer.isPro);\n  //R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n  \n\n	//request recommendations for page area (1 per call)\n	//R3_COMMON.addPlacementType('home_page.rr1');\n	R3_COMMON.addPlacementType('home_page.rr2');\n	R3_COMMON.addPlacementType('home_page.rr3');\n\n	window.R3_HOME = new r3_home();\n\n	r3();\n\n	rr_flush_onload();\n});\n}(jQuery));\n</script>\n<style>\n	.igdrec{ display: none; }\n	.rr_boxwrapper {\n	  text-align: left;\n	}\n\n\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300;\n	  font-size: 22px;\n	  color: #A2A2A2;\n	  display: block;\n	  padding: 30px 0px 25px 0px;\n	}\n\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 15px 10px;\n		position: relative;\n		clear: both;\n		border-bottom: 1px solid #EFEFEF;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 265px;\n	  font-size: 12px;\n	  padding-top: 10px;\n		padding-right: 15px;\n		padding-left: 14px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n\n	.recently-viewed {\n	  border-top: 1px solid #ddd;\n	}\n\n	.ie7 .you-viewed-others-viewed .you-viewed {\n	  width: 141px;\n	}\n	.rrName{\n		line-height: 1.55;\n		color: #222;\n		display: block;\n	  text-decoration: none;\n	  cursor: pointer;\n	    font-weight: normal;\n	}\n	  \n	  .rrTitle-link:hover {\n	        text-decoration: none;\n	      }\n\n	  .reviewCount {\n	      float: left;\n	color: #888;\n	font-size: 11px;\n	display: inline;\n	margin-top: 3px;\n	    }\n\n		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin-left: 3px;\n		  margin: auto;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 30px;\n		  position: relative;\n		  top: -90px;\n		  width: 100%;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  margin: 0 auto;\n		  width: 895px !important;\n		  overflow: hidden;\n		  position: relative;\n		  _padding-bottom: 24px;\n		  height: auto;\n		  padding: 0px 0px 10px;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 3800px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -30px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n	    background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 3800px;\n			height: 275px;\n			position: relative;\n		}\n		.rr-recs-beta .rr_product.hint_product{\n			float: left;\n			padding-right: 0;\n			padding-top: 0;\n			padding-left: 0px;\n			border-right: 1px solid #ddd;\n			width: 175px;\n			height: 300px;\n		}\n\n		.rr-recs-beta .rr_product.hint_product .product-info-wrapper{\n			padding: 0 15px;\n		}\n\n		.rr-recs-beta.has-hint-item .recs-slider-wrapper{\n			float: left;\n			position:relative;\n			width: 818px;\n		}\n		.rr-recs-beta.has-hint-item .recs-stage{\n			width: 716px !important;\n		}\n		.rr-recs-beta.has-hint-item .recs-slider-buttons{\n      width: 766px !important;\n      position: absolute;\n      left: 26px;\n		}\n\n		.rr-recs-beta .you-viewed,\n		.rr-recs-beta .customers-viewed{\n			background: #f6f6f6;\n			padding: 5px 10px;\n			border: 1px solid #ddd;\n			border-right: 0;\n			border-left: 0;\n			margin-bottom: 10px;\n			font-weight: normal;\n			color: #222;\n		}\n\n		.rr-recs-beta .you-viewed{\n			height: 19px;\n		}\n\n		.rr-recs-beta .customers-viewed{\n		}\n		.rr-recs-beta.has-hint-item .rr_boxwrapper{\n			margin-left: -15px;\n			width:	996px;\n		}\n		.rr-recs-beta.has-hint-item .rr_boxbody{\n			padding-left: 0;\n			padding-right: 0;\n		}\n</style>"}]}],conditions:[function(){return"main:home"==dataLayer.page
}],event:"pagebottom"},{name:"RR - My Recs",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\n\n$('#article-header .header').hide();\n$('#article-header h5').hide();\n$('#social-bar-h h6').text('Share this page');\n\n\njQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n  \n	function guidCheck(){\n		if(C('guId') == null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie\n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n\n  //rich relevance stuff\n  RR.jsonCallback = function(){\n    \n    /*displays recs after they are 100% loaded 1/6/14 -Chase */\n    $(window).trigger('recommendations.loaded');\n\n		$.each(RR.data.JSON.placements, function(index, item){\n			var order = index + 1,\n					heading = item.strat_message,\n					items = item.items,\n					recsHintClass = '',\n					dataSize = 5;\n\n			if(items.length){\n				if(typeof item.hint_item != 'undefined'){\n					recsHintClass = 'has-hint-item';\n					heading = \"Hope you don't mind, we have found some similar options for you\";\n					dataSize = 4;\n				}\n				if($('#rr_'+order).length < 1){\n					var	recsContent = '<div id=\"rr_'+order+'\" style=\"display:none\" class=\"clearfix rr-recs-beta '+recsHintClass+'\">'+\n															'<div class=\"rr_boxwrapper\">'+\n																'<div class=\"rr_boxhead\">'+\n																	'<h2>'+heading+'</h2>'+\n																'</div>'+\n																'<div class=\"rr_boxbody section-shadow clearfix\">'+\n																	'<div class=\"recs-slider-wrapper\">';\n\n					if(typeof item.hint_item != 'undefined'){\n						recsContent += '<div class=\"customers-viewed\">Customers who viewed this also viewed</div>';\n					}\n\n					recsContent += '<div class=\"recs-slider-buttons\">'+\n													'<div class=\"recs-scroller-head\">'+\n														'<a class=\"featured-previous left\" href=\"javascript:void(0);\"></a>'+\n														'<a class=\"featured-next right\" href=\"javascript:void(0);\"></a>'+\n													'</div>'+\n													'<div style=\"clear: both;\"></div>'+\n												'</div>'+\n												'<div class=\"recs-stage jcarousel\" data-size=\"'+dataSize+'\">'+\n													'<ul class=\"featured_list clearfix\">'+\n													'</ul>'+\n												'</div>'+\n											'</div>'+\n										'</div>'+\n									'</div>'+\n								'</div>';\n\n		//			$('#breadcrumb').append(content);\n					$('#article-body').append(recsContent)\n					//$(recsContent).insertAfter($('#breadcrumb'));\n				}\n			if(typeof item.hint_item != 'undefined'){\n\n				var hint = item.hint_item,\n						hintBrand = hint.brand,\n						hintId = hint.id,\n						hintImgUrl = hint.imageURL,\n						hintIndex = hint.index,\n						hintLinkUrl = hint.linkURL,\n						position = index + 1,\n						hintIntCmp = 'recs_page:'+dataLayer.page+hintId+'_recBox:homePage'+order+'_position:'+position+'_product:'+hintId,\n						hintName = hint.name,\n						hintPrice = (parseFloat(hint.price.replace(',', '')) == parseFloat(hint.price_high)) ? '$'+parseFloat(hint.price.replace(',','')).toFixed(2) : ('$'+parseFloat(hint.price.replace(',','')).toFixed(2)+' - $'+parseFloat(hint.price_high).toFixed(2)),\n						hintRating = hint.rating,\n						hintReviews = hint.reviews,\n						hintAlpha = (index == 0) ? 'alpha' : '',\n						hintTitle = (hint.title.length <= 45) ? hint.title : (hint.title.slice(0,45) + '&hellip;');\n\n				var rrHint = '<div class=\"rr_product hint_product\">'+\n												'<div class=\"you-viewed\">You Viewed</div>'+\n												'<div class=\"product-info-wrapper\">'+\n												'<div class=\"rr_product_image_link\">'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\" id=\"recs-product-image-link\">'+\n														'<img src=\"'+hintImgUrl+'\" alt=\"'+hintName+'\" width=\"150\" class=\"recs-product-image\">'+\n													'</a>'+\n												'</div>'+\n												'<div class=\"rr_product_name\">'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\">'+hintName+'</a>'+\n												'</div>'+\n												'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+hintTitle+'</span></a>'+\n													'<div class=\"rr_list\">'+\n														'<span class=\"rr_list_price\">'+hintPrice+'</span>'+\n													'</div>';\n\n				if(typeof hintRating != 'undefined'){\n						rrHint += '<div class=\"reviewRating\">'+\n												'<div class=\"rating r'+(Math.round(hintRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+hintRating+' out of 5\">'+\n													'<div></div>'+\n												'</div>'+\n												'<meta content=\"'+hintRating+'\">';\n						if(hintReviews > 0){\n							rrHint += '<span class=\"reviewCount\">('+hintReviews+')</span></div>';\n						}\n				}\n				rrHint += '</div></div>';\n\n				$('#rr_'+order+' .rr_boxbody').prepend(rrHint);\n\n\n			}\n				$.each(items, function(index, item){\n					var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n 							position = index + 1,\n							rrIntCmp = 'recs_page:'+dataLayer.page+rrId+'_recBox:homePage'+order+'_position:'+position+'_product:'+rrId,\n							rrName = item.name,\n							rrPrice = (parseFloat(item.price.replace(',', '')) == parseFloat(item.price_high)) ? '$'+parseFloat(item.price.replace(',','')).toFixed(2) : ('$'+parseFloat(item.price.replace(',','')).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2)),\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrAlpha = (index == 0) ? 'alpha' : '',\n							rrTitle = (item.title.length <= 45) ? item.title : (item.title.slice(0,45) + '&hellip;');\n					\n							\n					var rrItem = '<li class=\"rr_product\">'+\n													'<div class=\"rr_product_image_link\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n															'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n														'</a>'+\n													'</div>'+\n													'<div class=\"rr_product_name\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n													'</div>';\n													//'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n					\n														rrItem +=	'<div class=\"rr_list\">'+\n																					'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n																				'</div>';\n													\n						\n																					if(typeof rrRating != 'undefined'){\n																							rrItem += '<div class=\"reviewRating\">'+\n																													'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n																														'<div></div>'+\n																													'</div>'+\n																													'<meta content=\"'+rrRating+'\">';\n																							if(rrReviews > 0){\n																								rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n																							}\n																							rrItem += '</li>';\n																						\n}\n\n					$('#rr_'+order+' .featured_list').append(rrItem);\n					\n				});\n				if(dataLayer.environment && dataLayer.environment != 'production'){\n					$('#rr_'+order).addClass('staging');\n				}\n				$('#rr_'+order).slideDown();\n			}\n		});\n    $('#recs a[data-intcmp]').on('click', function(e){\n    	e.preventDefault();\n      var $this = $(this);\n      var s = window.s_gi(window.s_account);\n      s.linkTrackVars = \"eVar2\";\n      s.eVar2 = $this.data('intcmp');\n      s.tl(this, 'o', 'Internal Campaign');\n      setTimeout(function(){\n      	window.location = $this.attr('href');\n      }, 300);\n    });\n		var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n\n    jQuery.getScript(jCarouselUrl, function() {\n			jQuery('#recs .rr-recs-beta').each(function() {\n				var recs = jQuery(this),\n					c = recs.find('.jcarousel'),\n					prev = recs.find('.featured-previous'),\n					next = recs.find('.featured-next'),\n					pages = jQuery('<div class=\"recs-pages\"/>'),\n					count = c.data('size') || 5,\n					maxPages = 0;\n\n\n				c.on('scrollend.jcarousel', function(e, carousel) {\n					var t = c.jcarousel('target'),\n						pos = t.index(),\n						page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n					pages.find('span').removeClass('active').eq(page).addClass('active');\n				}).on('create.jcarousel', function(e, carousel) {\n\n					var total = c.jcarousel('items').length,\n						i = 0;\n\n					maxPages = Math.ceil(total / count);\n\n					c.append(pages);\n\n					for(i = 0; i < maxPages; i++) {\n						var span = jQuery('<span />').click(function() {\n								c.jcarousel('scroll', jQuery(this).index()*count, true);\n							});\n						pages.append(span);\n					}\n\n					pages.find('span').eq(0).addClass('active');\n				}).jcarousel({\n					scroll: count,\n					wrap: 'both'\n				});\n\n				prev.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"-=\"+count, true);\n				});\n\n				next.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"+=\"+count, true);\n				});\n\n			});\n		});\n		\n	};\n\n\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n  if(dataLayer.emailId){\n    R3_COMMON.setUserId(dataLayer.emailId);\n  }else if(dataLayer.userId){\n    R3_COMMON.setUserId(dataLayer.userId);\n  }else{\n    R3_COMMON.setUserId(C('CID'));\n  }\n\n	R3_COMMON.addPlacementType('personal_page.rr1');\n    R3_COMMON.addPlacementType('personal_page.rr2');\n    R3_COMMON.addPlacementType('personal_page.rr3');\n    R3_COMMON.addPlacementType('personal_page.rr4');\n   \n    var R3_PERSONAL = new r3_personal();\n\n	r3();\n\n	rr_flush_onload();\n});\n}(jQuery));\n</script>\n<style>\n	.igdrec{ display: none; }\n	.rr_boxwrapper {\n	  text-align: left;\n	}\n\n\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300 !important;\n	  font-size: 22px;\n	  color: #A2A2A2 !important;\n	  display: block;\n	  padding: 0px 0px 0px 0px;\n	}\n\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 0px 10px;\n		position: relative;\n		clear: both;\n		border-bottom: 1px solid #EFEFEF;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 265px;\n	  font-size: 12px;\n	  padding-top: 0px;\n		padding-right: 15px;\n		padding-left: 14px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n\n	.recently-viewed {\n	  border-top: 1px solid #ddd;\n	}\n\n	.ie7 .you-viewed-others-viewed .you-viewed {\n	  width: 141px;\n	}\n	.rrName{\n		line-height: 1.55;\n		color: #222;\n		display: block;\n	  text-decoration: none;\n	  cursor: pointer;\n	    font-weight: normal;\n	}\n	  \n	  .rrTitle-link:hover {\n	        text-decoration: none;\n	      }\n\n	  .reviewCount {\n	      float: left;\n	color: #888;\n	font-size: 11px;\n	display: inline;\n	margin-top: 3px;\n	    }\n\n		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin-left: 3px;\n		  margin: auto;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 20px;\n		  position: relative;\n		  top: -90px;\n		  width: 100%;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  margin: 0 auto;\n		  width: 895px !important;\n		  overflow: hidden;\n		  position: relative;\n		  _padding-bottom: 24px;\n		  height: auto;\n		  padding: 0px 0px 10px;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 3800px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -30px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n	    background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 3800px;\n			height: 275px;\n			position: relative;\n		}\n		.rr-recs-beta .rr_product.hint_product{\n			float: left;\n			padding-right: 0;\n			padding-top: 0;\n			padding-left: 0px;\n			border-right: 1px solid #ddd;\n			width: 175px;\n			height: 300px;\n		}\n\n		.rr-recs-beta .rr_product.hint_product .product-info-wrapper{\n			padding: 0 15px;\n		}\n\n		.rr-recs-beta.has-hint-item .recs-slider-wrapper{\n			float: left;\n			position:relative;\n			width: 818px;\n		}\n		.rr-recs-beta.has-hint-item .recs-stage{\n			width: 716px !important;\n		}\n		.rr-recs-beta.has-hint-item .recs-slider-buttons{\n      width: 766px !important;\n      position: absolute;\n      left: 26px;\n		}\n\n		.rr-recs-beta .you-viewed,\n		.rr-recs-beta .customers-viewed{\n			background: #f6f6f6;\n			padding: 5px 10px;\n			border: 1px solid #ddd;\n			border-right: 0;\n			border-left: 0;\n			margin-bottom: 10px;\n			font-weight: normal;\n			color: #222;\n		}\n\n		.rr-recs-beta .you-viewed{\n			height: 19px;\n		}\n\n		.rr-recs-beta .customers-viewed{\n		}\n		.rr-recs-beta.has-hint-item .rr_boxwrapper{\n			margin-left: -15px;\n			width:	996px;\n		}\n		.rr-recs-beta.has-hint-item .rr_boxbody{\n			padding-left: 0;\n			padding-right: 0;\n		}\n\n\n		.recs-scroller-head .featured-previous.left{\n			position: relative;\n			right: 29px;\n\n		}\n\n		.recs-scroller-head .featured-next.right{\n			position: relative;\n			left: 29px;\n\n		}\n\n		#social-bar-h h6{\n			margin-top: 25px;\n\n		}\n\n\n		#disqus_thread {\n			display: none;\n		}\n\n</style>"}]}],conditions:[function(){return"/my-recs/a314"===n.location.pathname}],event:"pagebottom"},{name:"RR - OrderConfirm",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n  jQuery(function($){\njQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n	function guidCheck(){\n		if(C('guId') == null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie\n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n\n  //This is the code that targets recs placements\n   RR.jsonCallback = function(){\n     \n     \n     \n         /*displays recs after they are 100% loaded 1/6/14 -Chase */\n    $(window).trigger('recommendations.loaded');\n      \n      \n  		$('#emailReceipt').before('<div id=\"recs\"></div>');\n		$.each(RR.data.JSON.placements, function(index, item){\n			var order = index + 1,\n					heading = item.strat_message,\n					items = item.items,\n					recsHintClass = '',\n					dataSize = 5;\n\n			if(items.length){\n				if(typeof item.hint_item != 'undefined'){\n					recsHintClass = 'has-hint-item';\n					heading = \"Hope you don't mind, we have found some similar options for you\";\n					dataSize = 4;\n				}\n				if($('#rr_'+order).length < 1){\n					var	recsContent = '<div id=\"rr_'+order+'\" style=\"display:none\" class=\"clearfix rr-recs-beta '+recsHintClass+'\">'+\n															'<div class=\"rr_boxwrapper\">'+\n																'<div class=\"rr_boxhead\">'+\n																	'<h2>'+heading+'</h2>'+\n																'</div>'+\n																'<div class=\"rr_boxbody section-shadow clearfix\">'+\n																	'<div class=\"recs-slider-wrapper\">';\n\n					if(typeof item.hint_item != 'undefined'){\n						recsContent += '<div class=\"customers-viewed\">Customers who viewed this also viewed</div>';\n					}\n\n					recsContent += '<div class=\"recs-slider-buttons\">'+\n													'<div class=\"recs-scroller-head\">'+\n														'<a class=\"featured-previous left\" href=\"javascript:void(0);\"></a>'+\n														'<a class=\"featured-next right\" href=\"javascript:void(0);\"></a>'+\n													'</div>'+\n													'<div style=\"clear: both;\"></div>'+\n												'</div>'+\n												'<div class=\"recs-stage jcarousel\" data-size=\"'+dataSize+'\">'+\n													'<ul class=\"featured_list clearfix\">'+\n													'</ul>'+\n												'</div>'+\n											'</div>'+\n										'</div>'+\n									'</div>'+\n								'</div>';\n\n					$('#recs').prepend(recsContent);\n				}\n			if(typeof item.hint_item != 'undefined'){\n\n				var hint = item.hint_item,\n						hintBrand = hint.brand,\n						hintId = hint.id,\n						hintImgUrl = hint.imageURL,\n						hintIndex = hint.index,\n						hintLinkUrl = hint.linkURL,\n						position = index + 1,\n						hintIntCmp = 'recs_page:'+dataLayer.page+hintId+'_recBox:homePage'+order+'_position:'+position+'_product:'+hintId,\n						hintName = hint.name,\n						hintPrice = (parseFloat(hint.price.replace(',', '')) == parseFloat(hint.price_high)) ? '$'+parseFloat(hint.price.replace(',','')).toFixed(2) : ('$'+parseFloat(hint.price.replace(',','')).toFixed(2)+' - $'+parseFloat(hint.price_high).toFixed(2)),\n						hintRating = hint.rating,\n						hintReviews = hint.reviews,\n						hintAlpha = (index == 0) ? 'alpha' : '',\n						hintTitle = (hint.title.length <= 45) ? hint.title : (hint.title.slice(0,45) + '&hellip;');\n\n				var rrHint = '<div class=\"rr_product hint_product\">'+\n												'<div class=\"you-viewed\">You Viewed</div>'+\n												'<div class=\"product-info-wrapper\">'+\n												'<div class=\"rr_product_image_link\">'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\" id=\"recs-product-image-link\">'+\n														'<img src=\"'+hintImgUrl+'\" alt=\"'+hintName+'\" width=\"150\" class=\"recs-product-image\">'+\n													'</a>'+\n												'</div>'+\n												'<div class=\"rr_product_name\">'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\">'+hintName+'</a>'+\n												'</div>'+\n												'<a rel=\"nofollow\" data-intcmp=\"'+hintIntCmp+'\" href=\"'+hintLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+hintTitle+'</span></a>'+\n													'<div class=\"rr_list\">'+\n														'<span class=\"rr_list_price\">'+hintPrice+'</span>'+\n													'</div>';\n\n				if(typeof hintRating != 'undefined'){\n						rrHint += '<div class=\"reviewRating\">'+\n												'<div class=\"rating r'+(Math.round(hintRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+hintRating+' out of 5\">'+\n													'<div></div>'+\n												'</div>'+\n												'<meta content=\"'+hintRating+'\">';\n						if(hintReviews > 0){\n							rrHint += '<span class=\"reviewCount\">('+hintReviews+')</span></div>';\n						}\n				}\n				rrHint += '</div></div>';\n\n				$('#rr_'+order+' .rr_boxbody').prepend(rrHint);\n\n\n			}\n				$.each(items, function(index, item){\n					var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n 							position = index + 1,\n							rrIntCmp = 'recs_page:'+dataLayer.page+rrId+'_recBox:homePage'+order+'_position:'+position+'_product:'+rrId,\n							rrName = item.name,\n							rrPrice = (parseFloat(item.price.replace(',', '')) == parseFloat(item.price_high)) ? '$'+parseFloat(item.price.replace(',','')).toFixed(2) : ('$'+parseFloat(item.price.replace(',','')).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2)),\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrAlpha = (index == 0) ? 'alpha' : '',\n							rrTitle = (item.title.length <= 45) ? item.title : (item.title.slice(0,45) + '&hellip;');\n					\n							\n					var rrItem = '<li class=\"rr_product\">'+\n													'<div class=\"rr_product_image_link\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n															'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n														'</a>'+\n													'</div>'+\n													'<div class=\"rr_product_name\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n													'</div>'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n					\n														rrItem +=	'<div class=\"rr_list\">'+\n																					'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n																				'</div>';\n													\n						\n																					if(typeof rrRating != 'undefined'){\n																							rrItem += '<div class=\"reviewRating\">'+\n																													'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n																														'<div></div>'+\n																													'</div>'+\n																													'<meta content=\"'+rrRating+'\">';\n																							if(rrReviews > 0){\n																								rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n																							}\n																							rrItem += '</li>';\n																						\n}\n\n					$('#rr_'+order+' .featured_list').append(rrItem);\n					\n				});\n				if(dataLayer.environment && dataLayer.environment != 'production'){\n					$('#rr_'+order).addClass('staging');\n				}\n				$('#rr_'+order).slideDown();\n			}\n		});\n    $('#recs a[data-intcmp]').on('click', function(e){\n    	e.preventDefault();\n      var $this = $(this);\n      var s = window.s_gi(window.s_account);\n      s.linkTrackVars = \"eVar2\";\n      s.eVar2 = $this.data('intcmp');\n      s.tl(this, 'o', 'Internal Campaign');\n      setTimeout(function(){\n      	window.location = $this.attr('href');\n      }, 300);\n    });\n		var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n\n    jQuery.getScript(jCarouselUrl, function() {\n			jQuery('#recs .rr-recs-beta').each(function() {\n				var recs = jQuery(this),\n					c = recs.find('.jcarousel'),\n					prev = recs.find('.featured-previous'),\n					next = recs.find('.featured-next'),\n					pages = jQuery('<div class=\"recs-pages\"/>'),\n					count = c.data('size') || 5,\n					maxPages = 0;\n\n\n				c.on('scrollend.jcarousel', function(e, carousel) {\n					var t = c.jcarousel('target'),\n						pos = t.index(),\n						page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n					pages.find('span').removeClass('active').eq(page).addClass('active');\n				}).on('create.jcarousel', function(e, carousel) {\n\n					var total = c.jcarousel('items').length,\n						i = 0;\n\n					maxPages = Math.ceil(total / count);\n\n					c.append(pages);\n\n					for(i = 0; i < maxPages; i++) {\n						var span = jQuery('<span />').click(function() {\n								c.jcarousel('scroll', jQuery(this).index()*count, true);\n							});\n						pages.append(span);\n					}\n\n					pages.find('span').eq(0).addClass('active');\n				}).jcarousel({\n					scroll: count,\n					wrap: 'both'\n				});\n\n				prev.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"-=\"+count, true);\n				});\n\n				next.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"+=\"+count, true);\n				});\n\n			});\n		});\n		\n	};\n\n  \n  \n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n  if(dataLayer.emailId){\n    R3_COMMON.setUserId(dataLayer.emailId);\n  }else if(dataLayer.userId){\n    R3_COMMON.setUserId(dataLayer.userId);\n  }else{\n    R3_COMMON.setUserId(C('CID'));\n  }\n  \n  //Recs Segmenting Data -Chase\n  //R3_COMMON.addSegment('isPro', dataLayer.isPro);\n  // R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n  \n	//request recommendations for page area (1 per call)\n	R3_COMMON.addPlacementType('purchase_complete_page.rr1');\n\n	window.R3_PURCHASED = new r3_purchased();\n\n	R3_PURCHASED.setOrderNumber(dataLayer.orderNumber);\n\n	for (var i = 0; i < dataLayer.cartItems.length; i++){\n		var manu = dataLayer.cartItems[i].manufacturer;\n		var productId = dataLayer.cartItems[i].productId;\n		var id = (manu + productId).toLowerCase().replace(/[^a-zA-Z0-9]+/g, '');\n		R3_PURCHASED.addItemIdPriceQuantity(id, dataLayer.cartItems[i].price, dataLayer.cartItems[i].quantity);\n		if(typeof dataLayer.cartItems[i].subItems !== 'undefined'){\n        for (var j = 0; j < dataLayer.cartItems[i].subItems.length; j++ ){\n          var subManu = dataLayer.cartItems[i].subItems[j].manufacturer;\n          var subProductId = dataLayer.cartItems[i].subItems[j].productId;\n          var subId = (subManu + subProductId).toLowerCase().replace(/[^a-zA-Z0-9]+/g, '');\n          R3_PURCHASED.addItemIdPriceQuantity(subId, dataLayer.cartItems[i].subItems[j].price, dataLayer.cartItems[i].subItems[j].quantity);\n        } \n      }\n  }\n\n\n	r3();\n\n	rr_flush_onload();\n});\n  });\n</script>\n<style>\n	.igdrec{ display: none; }\n	.rr_boxwrapper {\n	  text-align: left;\n	}\n\n\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300;\n	  font-size: 22px;\n	  color: #A2A2A2;\n	  display: block;\n	  padding: 30px 0px 25px 0px;\n	}\n\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 15px 10px;\n		position: relative;\n		clear: both;\n		border-bottom: 1px solid #EFEFEF;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 265px;\n	  font-size: 12px;\n	  padding-top: 10px;\n		padding-right: 15px;\n		padding-left: 14px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n\n	.recently-viewed {\n	  border-top: 1px solid #ddd;\n	}\n\n	.ie7 .you-viewed-others-viewed .you-viewed {\n	  width: 141px;\n	}\n	.rrName{\n		line-height: 1.55;\n		color: #222;\n		display: block;\n	  text-decoration: none;\n	  cursor: pointer;\n	    font-weight: normal;\n	}\n	  \n	  .rrTitle-link:hover {\n	        text-decoration: none;\n	      }\n\n	  .reviewCount {\n	      float: left;\n	color: #888;\n	font-size: 11px;\n	display: inline;\n	margin-top: 3px;\n	    }\n\n		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin-left: 3px;\n		  margin: auto;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 30px;\n		  position: relative;\n		  top: -90px;\n		  width: 100%;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  margin: 0 auto;\n		  width: 895px !important;\n		  overflow: hidden;\n		  position: relative;\n		  _padding-bottom: 24px;\n		  height: auto;\n		  padding: 0px 0px 10px;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 3800px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -30px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n	    background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 3800px;\n			height: 275px;\n			position: relative;\n		}\n		.rr-recs-beta .rr_product.hint_product{\n			float: left;\n			padding-right: 0;\n			padding-top: 0;\n			padding-left: 0px;\n			border-right: 1px solid #ddd;\n			width: 175px;\n			height: 300px;\n		}\n\n		.rr-recs-beta .rr_product.hint_product .product-info-wrapper{\n			padding: 0 15px;\n		}\n\n		.rr-recs-beta.has-hint-item .recs-slider-wrapper{\n			float: left;\n			position:relative;\n			width: 818px;\n		}\n		.rr-recs-beta.has-hint-item .recs-stage{\n			width: 716px !important;\n		}\n		.rr-recs-beta.has-hint-item .recs-slider-buttons{\n      width: 766px !important;\n      position: absolute;\n      left: 26px;\n		}\n\n		.rr-recs-beta .you-viewed,\n		.rr-recs-beta .customers-viewed{\n			background: #f6f6f6;\n			padding: 5px 10px;\n			border: 1px solid #ddd;\n			border-right: 0;\n			border-left: 0;\n			margin-bottom: 10px;\n			font-weight: normal;\n			color: #222;\n		}\n\n		.rr-recs-beta .you-viewed{\n			height: 19px;\n		}\n\n		.rr-recs-beta .customers-viewed{\n		}\n		.rr-recs-beta.has-hint-item .rr_boxwrapper{\n			margin-left: -15px;\n			width:	996px;\n		}\n		.rr-recs-beta.has-hint-item .rr_boxbody{\n			padding-left: 0;\n			padding-right: 0;\n		}\n</style>"}]}],conditions:[function(){return"checkout:ordercomplete"==dataLayer.page
}],event:"pagebottom"},{name:"RR - ProductPage",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\n  jQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n  \n    \n    //session cookie functions\n    function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n    function guidGenerator() {\n        var S4 = function() {\n           return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n        };\n        return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n    }\n    function guidCheck(){\n      if(C('guId') == null){\n            var guId = guidGenerator();\n        document.cookie= 'guId='+guId+'; path=/';\n      }\n      return C('guId');\n    }\n    //end session cookie \n    //api key check\n     var api = '808eb9bd4473db38',   \n         url = 'build.com';// window.location.host.split('.').splice(1,2).join('.');\n          \n      var env = 'recs';\n      if(dataLayer.environment !== 'production'){\n        env = 'integration';\n      }\n    //rich relevance stuff\n    RR.jsonCallback = function(){\n      \n          /*displays recs after they are 100% loaded 1/6/14 -Chase */\n    $(window).trigger('recommendations.loaded');\n      \n      \n			$.each(RR.data.JSON.placements.slice(0,1), function(index, item){		\n					var order = index + 1,\n					heading = item.strat_message,\n					items = item.items;\n					if($('#rr_'+order).length < 1){\n																\n						var content = '<div id=\"rr_'+order+'\" class=\"modulebox rr-recs-beta rrBox clearfix\">'+\n														'<div class=\"rr_boxwrapper\">'+\n															'<div class=\"rr_boxhead\">'+\n																'<h2 class=\"heading\">'+heading+'</h2>'+\n															'</div>'+\n															'<div class=\"rr_boxbody rrContainer clearfix\">'+\n																'<div class=\"recs-slider-buttons\">'+\n																	'<div class=\"recs-scroller-head\">'+\n																		'<a class=\"featured-previous left\" href=\"javascript:void(0);\"></a>'+\n																		'<a class=\"featured-next right\" href=\"javascript:void(0);\"></a>'+\n																	'</div>'+\n																	'<div style=\"clear: both;\"></div>'+\n																'</div>'+\n																'<div class=\"recs-stage jcarousel\">'+\n																	'<ul class=\"featured_list clearfix\">'+\n																	'</ul>'+\n																'</div>'+\n															'</div>'+\n														'</div>'+\n													'</div>';\n						$(content).insertAfter($('.product-tabs'));\n					}\n\n					$('#rr_'+order).find('h2').text(heading);\n\n					var id = '';\n					if(dataLayer.id != '' && dataLayer.id != 0 && dataLayer.id != undefined){\n						id = ':'+dataLayer.id;\n					}\n\n					$.each(items, function(index, item){\n						var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							position = index + 1,\n							rrLinkUrl = item.linkURL,\n							rrIntCmp = 'recs_page:'+dataLayer.page+id+'_recBox:productPage'+order+'_position:'+position+'_product:'+rrId,\n							rrName = item.name,\n							rrPrice = '',\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrTitle = (item.title.length <= 50) ? item.title : (item.title.slice(0,50) + '&hellip;');\n\n\n							if(item.price !== item.price_high &&  item.price_high !== ''){\n								rrPrice = '$'+parseFloat(item.price.replace(',','')).toFixed(2)+' - $'+parseFloat(item.price_high).toFixed(2);\n							}else{\n								rrPrice = '$'+parseFloat(item.price.replace(',','')).toFixed(2);\n							}\n\n							var rrItem = '<li class=\"rr_product\">'+\n													'<div class=\"rr_product_image_link\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n															'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n														'</a>'+\n													'</div>'+\n													'<div class=\"rr_product_name\">'+\n														'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n													'</div>'+\n													'<a rel=\"nofollow\" data-intcmp=\"'+rrIntCmp+'\" href=\"'+rrLinkUrl+'\" class=\"rrTitle-link\"><span class=\"rrName\">'+rrTitle+'</span></a>';\n\n					\n														rrItem +=	'<div class=\"rr_list\">'+\n																					'<span class=\"rr_list_price\">'+rrPrice+'</span>'+\n																				'</div>';\n													\n						\n																					if(typeof rrRating != 'undefined'){\n																							rrItem += '<div class=\"reviewRating\">'+\n																													'<div class=\"rating r'+(Math.round(rrRating / 0.5) * 0.5).toString().replace('.','')+'\" title=\"User Rating: '+rrRating+' out of 5\">'+\n																														'<div></div>'+\n																													'</div>'+\n																													'<meta content=\"'+rrRating+'\">';\n																							if(rrReviews > 0){\n																								rrItem += '<span class=\"reviewCount\">('+rrReviews+')</span></div>';\n																							}\n																							rrItem += '</li>';\n						}\n            		\n				\n\n							$('#rr_'+order).find('.featured_list').append(rrItem);\n					});\n\n				});\n\n		var jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n		\n		if(!!jQuery('#header-bar .logo').css('background-image').match('themes')){\n			jCarouselUrl = '/assets/scripts/vendor/jquery/jquery.jcarousel.js';\n		}\n		jQuery.getScript(jCarouselUrl, function() {\n			jQuery('.rrBox.rr-recs-beta').each(function() {\n				var recs = jQuery(this),\n					c = recs.find('.jcarousel'),\n					prev = recs.find('.featured-previous'),\n					next = recs.find('.featured-next'),\n					pages = jQuery('<div class=\"recs-pages\"/>'),\n					count = c.data('size') || 5,\n					maxPages = 0;\n\n\n				c.on('scrollend.jcarousel', function(e, carousel) {\n					var t = c.jcarousel('target'),\n						pos = t.index(),\n						page = Math.min(Math.ceil(pos/count), maxPages-1);\n\n					pages.find('span').removeClass('active').eq(page).addClass('active');\n				}).on('create.jcarousel', function(e, carousel) {\n\n					var total = c.jcarousel('items').length,\n						i = 0;\n\n					maxPages = Math.ceil(total / count);\n\n					c.append(pages);\n\n					for(i = 0; i < maxPages; i++) {\n						var span = jQuery('<span />').click(function() {\n								c.jcarousel('scroll', jQuery(this).index()*count, true);\n							});\n						pages.append(span);\n					}\n\n					pages.find('span').eq(0).addClass('active');\n				}).jcarousel({\n					scroll: count,\n					wrap: 'both'\n				});\n\n				prev.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"-=\"+count, true);\n				});\n\n				next.click(function(e) {\n					e.preventDefault();\n					c.jcarousel('scroll', \"+=\"+count, true);\n				});\n\n			});\n		});\n		\n\n		jQuery(window).trigger('recommendations.loaded');\n\n    };\n\n  \n    window.R3_COMMON = new r3_common();\n    R3_COMMON.setApiKey(api);\n    R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n    R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n    R3_COMMON.setSessionId(guidCheck());\n    if(dataLayer.emailId){\n      R3_COMMON.setUserId(dataLayer.emailId);\n    }else if(dataLayer.userId){\n      R3_COMMON.setUserId(dataLayer.userId);\n    }else{\n      R3_COMMON.setUserId(C('CID'));\n    }\n  \n    //Recs Segmenting Data -Chase\n    //R3_COMMON.addSegment('isPro', dataLayer.isPro);\n    // R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n    \n    \n    //request recommendations for page area (1 per call)\n    R3_COMMON.addPlacementType('item_page.rr1');\n    var categoryIds = dataLayer.categoryIds.split(',');\n    R3_COMMON.addCategoryHintId(categoryIds[categoryIds.length - 1]);\n  \n    window.R3_ITEM = new r3_item();\n  \n    R3_ITEM.setId(dataLayer.id)\n  \n    r3();\n  \n    rr_flush_onload();\n  });\n  }(jQuery));\n</script>\n\n<style>\n.rrBox{\n}\n.rrContainer{\n	padding: 5px 15px 10px 15px;\n    font-size: 12px;\n}\n  \n  .rrContainer:hover {\n        text-decoration: underline;\n}\n      \n      \n.rrItem{\n	width: 20%;\n	margin-top: 15px;\n	float: left;\n}\n\n  \n.rrImg{\n	width: 165px;\nmargin: 0;\n\n}\n.rrInner{\n	float: left;\n	margin: 0px 5px;	\n}\n.rrTitle{\n	text-decoration: none;\n  font-weight: bold;\n}  \n  \n\na.rrName-link{\n	line-height: 1.55;\n	color: #222;\n	display: block;\n  text-decoration: none;\n  cursor: pointer;\n    font-weight: normal;\n}\n  \n\n  \n.rrReview{\n	margin-top: 3px;\n}\n  \n.rrPrice{\n	color: #548951;\n	font-size: 12px;\n	font-weight: bold;\n}\n  \n  .rrContainer .reviewRating {\n        margin: 0 !important;\n}\n\n  .rrContainer .reviewCount {\n      float: left;\ncolor: #888;\nfont-size: 11px;\ndisplay: inline;\n\n}\n 		/* line 248, ../../sass/sections/_homepage.scss */\n		* html .rr-recs-beta {\n		  background: none repeat scroll 0 0 transparent;\n		}\n\n		/* line 256, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta {\n		  text-align: left;\n		  clear: both;\n		  margin: auto;\n		  margin-bottom: 20px;\n		  margin-left: 0px;\n		  margin-top: 10px;\n		}\n		/* line 263, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  border-right: none;\n		}\n		/* line 266, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages {\n		  text-align: center;\n		  margin-top: 15px;\n		}\n		/* line 268, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span {\n		  display: inline-block;\n		  width: 10px;\n		  height: 10px;\n		  -webkit-border-radius: 8px;\n		  -moz-border-radius: 8px;\n		  border-radius: 8px;\n		  background-color: #eee;\n		  margin: 0px 3px;\n		  cursor: pointer;\n		}\n		/* line 276, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-pages span.active {\n		  background-color: #aaa;\n		}\n		/* line 281, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-beta-head {\n		  clear: both;\n		}\n		/* line 284, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta h2.nav_title, .rr-recs-beta .br-container .nav_title.br-found-heading, .br-container .rr-recs-beta .nav_title.br-found-heading {\n		  border-bottom: 1px solid #e1e1e1;\n		  padding-bottom: 15px;\n		}\n		/* line 288, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .viewmore {\n		  float: right;\n		  text-decoration: underline;\n		  font-size: 12px;\n		  margin-top: -27px;\n		}\n		/* line 294, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-slider-buttons {\n		  float: right;\n		  height: 30px;\n		  position: relative;\n		  top: -90px;\n		  width: 100%;\n		  left: -14px;\n		}\n		/* line 302, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-stage {\n		  margin: 0 auto;\n		  width: 900px !important;\n		  overflow: hidden;\n		  position: relative;\n		  _padding-bottom: 24px;\n		  height: auto;\n		  padding: 0px 0px 10px;\n		}\n		/* line 311, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  width: 3800px;\n		  position: relative;\n		  left: 0px;\n		}\n		/* line 316, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info a {\n		  font-size: 12px;\n		  font-weight: bold;\n		}\n		/* line 320, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta div.recs-product-info p.description {\n		  font-size: 12px;\n		  margin-top: 0;\n		  overflow: hidden;\n		  line-height: 16px;\n		}\n		/* line 326, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs_price {\n		  color: #548951;\n		  font-weight: bold;\n		  font-size: 12px;\n		}\n		/* line 331, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox {\n		  clear: both;\n		  height: 15px;\n		  padding-top: 8px;\n		  text-align: center;\n		  width: 248px;\n		}\n		/* line 337, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .iconCheckBox a {\n		  font-size: 10px;\n		  padding-left: 4px;\n		  vertical-align: middle;\n		}\n		/* line 343, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .actionLinks a {\n		  text-decoration: none;\n		}\n		/* line 346, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList {\n		  margin: 0;\n		}\n		/* line 348, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li {\n		  float: left;\n		  list-style: none outside none;\n		  padding-right: 4px;\n		  width: 188px;\n		}\n		/* line 353, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li img {\n		  margin: 0 5px 1px;\n		  width: 150px;\n		  padding: 5px 10px;\n		}\n		/* line 358, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-myList li span {\n		  clear: both;\n		}\n		/* line 363, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-left: -2px;\n		}\n		/* line 372, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-previous {\n		  float: left;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-left: 2px;\n		}\n		/* line 381, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 144px;\n		  margin-right: -31px;\n		}\n		/* line 390, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .featured-next {\n		  float: right;\n		  visibility: visible;\n		  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n		  opacity: 1;\n		  position: relative;\n		  z-index: 500;\n		  top: 235px;\n		  margin-right: -28px;\n		}\n		/* line 400, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right,\n		.rr-recs-beta a.left {\n		  cursor: pointer !important;\n		  background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n			background-repeat: no-repeat;\n		  height: 42px;\n		  width: 26px;\n		}\n		.rr-recs-beta.staging a.right,\n		.rr-recs-beta.staging a.left{\n			background-image: url(\"/themes/build/images/beta/nav_arrow_circle.png\");\n		}\n\n		/* line 403, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right {\n		  background-position: 0 -43px;\n		}\n		\n		/* line 408, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.right:hover {\n		  background-position: 0 -128px;\n		}\n\n		/* line 419, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta a.left:hover {\n		  background-position: 0 -85px;\n		}\n		/* line 426, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .recs-product-info {\n		  padding: 2px 6px;\n		}\n		/* line 429, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta #pagination {\n		  float: left;\n		  margin: 8px 10px 0 0;\n		  visibility: hidden;\n		}\n		/* line 433, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a.current {\n		  background-position: -3px -11px;\n		}\n		/* line 436, ../../sass/sections/_homepage.scss */\n		.rr-recs-beta .pagination a {\n		  font-size: 10px;\n		  line-height: 14px;\n		  padding: 0 5px;\n		  text-decoration: none;\n		  width: 8px;\n		}\n		.rr-recs-beta .featured_list {\n			margin: 0;\n			width: 3800px;\n			height: 275px;\n			position: relative;\n		}\n	/*\n	.rr_boxhead h2 {\n	  text-align: center;\n	  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n	  font-weight: 300;\n	  font-size: 22px;\n	  color: #A2A2A2;\n	  display: block;\n	  padding: 30px 0px 25px 0px;\n	}\n	*/\n\n	.rr_boxbody {\n		background: none;\n		padding: 0px 10px 15px 10px;\n		position: relative;\n		clear: both;\n		border-bottom: 1px solid #EFEFEF;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed {\n	  border-top: 1px solid #ddd;\n	  color: #888;\n	  font-weight: bold;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed div {\n	  float: left;\n	  padding: 5px 10px;\n	}\n\n	.rr_boxbody .you-viewed-others-viewed .you-viewed {\n	  border-right: 1px solid #ddd;\n	  width: 146px;\n	  background: #eee;\n	}\n\n	.rr_boxbody .rr_product {\n	  height: 265px;\n	  font-size: 12px;\n	  padding-top: 10px;\n		padding-right: 15px;\n		padding-left: 15px;\n		float: left;\n		list-style: none;\n		width: 150px;\n	}\n\n	.rr_boxbody .rr_product.viewed-product {\n	  border-right: 1px solid #ddd;\n	  padding-right: 0;\n	}\n\n	.rr_boxbody .rr_product img.rr_product_image {\n	  float: left;\n	  height: auto;\n	  margin: 0 5px 1px;\n	  width: 150px;\n	  padding: 5px 10px;\n	}\n	.rr_boxbody .rr_product .rr_product_name {\n	  width: 100%;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_product_title {\n	  line-height: 16px;\n	  color: #3F3F3F;\n	}\n	.rr_boxbody .rr_product .rating {\n	  float: left;\n	  margin: 3px 0;\n	}\n	.rr_boxbody .rr_product .rr_list {\n	  color: #548951;\n	  font-weight: bold;\n	}\n	.rr_boxbody .rr_product .rr_list .rr_list_price {\n	  display: block;\n	  font-weight: bold;\n	}\n\n	.recently-viewed-items .rr_boxbody {\n	  height: auto;\n	}\n</style>"}]}],conditions:[function(){return"product:display"==dataLayer.page}],event:"pagebottom"},{name:"RR - Search",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\njQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	    var S4 = function() {\n	       return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	    };\n	    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n	function guidCheck(){\n		if(C('guId') == null){\n	        var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie \n	//api key check\n   var api = '808eb9bd4473db38',   \n      url = window.location.host.split('.').splice(1,2).join('.');\n      \n    switch(url){\n        case 'ventingdirect.com':\n        	api = '673e8a2cc8112d6b';\n        break;\n        case 'handlesets.com':\n        	api = '034dfc5b29a514b5';\n        break;\n        case 'ventingpipe.com':\n			api = '5248157165abff52';\n        break;\n        case 'pullsdirect.com':\n        	api = 'ba7a2cdcee51c57b';\n        break;\n        case 'faucetdirect.com':\n        	api = '89e8a23040a889f3';\n        break;\n        case 'lightingdirect.com':\n			api = 'fd40a20d8a0d6713';\n        break;\n    }\n    var env = 'recs';\n    if(dataLayer.environment !== 'production'){\n    	env = 'integration';\n    }\n\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n  if(dataLayer.emailId){\n    R3_COMMON.setUserId(dataLayer.emailId);\n  }else if(dataLayer.userId){\n    R3_COMMON.setUserId(dataLayer.userId);\n  }else{\n    R3_COMMON.setUserId(C('CID'));\n  }\n\n  //Recs Segmenting Data -Chase\n  // R3_COMMON.addSegment('isPro', dataLayer.isPro);\n  // R3_COMMON.addSegment('isLocalUser', dataLayer.isLocalUser);\n    \n	//request recommendations for page area (1 per call)\n	R3_COMMON.addPlacementType('search_page.rr1');\n\n	window.R3_SEARCH = new r3_search();\n	R3_SEARCH.setTerms(dataLayer.searchTerm);\n\n  //limit to 15 productIds\n	for (var i = 0; i < 15; i++){\n		R3_SEARCH.addItemId(jQuery('.product_detail .url').eq(i).text().toLowerCase().replace(/[^a-zA-Z0-9]+/g, ''));\n	}\n\n\n	r3();\n});\n</script>"}]}],conditions:[function(){return"search:browse"==dataLayer.page}],event:"pagebottom"},{name:"Review Link Tracking",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-535e8f5125676bea670004ac.js",data:[]}]}]}],conditions:[function(){return"product:display"===dataLayer.page}],event:"pagebottom"},{name:"Search Feedback",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-531e8e815781bb29d0000014.js",data:[]}]}]}],conditions:[function(){return"true"===dataLayer.isLocalUser&&"search:browse"===dataLayer.page}],event:"pagebottom"},{name:"ShopZilla ROI",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-53a34cc8c53e5d975a0002e4.js",data:[]}]}]}],conditions:[function(){return"checkout:ordercomplete"===dataLayer.page}],event:"domready"},{name:"SiteCat: AMO Tracking (eVar 71) (Copy)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-53d915e203a01cf159000318.js",data:[]}]}]}],scope:{URI:{include:["ef_id"]}},event:"domready"},{name:"SiteCat: Dictionary Terms Hover",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-51dc57a21fd8ebc9e5000060.js",data:[]}]}]}],conditions:[function(){return"search:browse"==dataLayer.page}],event:"pagebottom"},{name:"SiteCat: Facet Completion",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5124f5cd8689625c98000027.js",data:[]}]}]}],conditions:[function(){return!!_satellite.readCookie("facet-complete")}],event:"pagebottom"},{name:"SiteCat: Facet Tracking",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5124f4cbfec4640fb900001b.js",data:[]}]}]}],conditions:[function(){return"local"!=dataLayer.environment&&"sandbox"!=dataLayer.environment&&"search:browse"==dataLayer.page&&!_satellite.getQueryParam("disableFacetTracking")}],event:"domready"},{name:"SiteCat: Main Navigation Tracking",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5112f22b3abe65332400004f.js",data:[]}]}]}],conditions:[function(){return!_satellite.getQueryParam("disableNavTracking")}],event:"domready"},{name:"SiteCat: Organic Tracking",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-51f6d8ea19a60e6e34000106.js",data:[]}]}]}],conditions:[function(){var t=_satellite.getQueryParam("page"),r=n.location.host!==e.referrer.split("/")[2];return!_satellite.getQueryParam("source")&&r&&"ecrm:order"!==t&&"checkout:receipt"!==t&&null!=typeof s}],event:"pagebottom"},{name:"SiteCat: URL Tracking",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-51ef522368603cc33a000017.js",data:[]}]}]}],event:"pagebottom"},{name:"SiteCat: s.products fix",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5255d90db5e541ba590000c1.js",data:[]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getQueryParam("page"),"checkout:ordercomplete")}],event:"pagebottom"},{name:"Sitecat: PageName and SearchTerm eVar61",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5201666c9cf703a1a9000039.js",data:[]}]}]}],event:"domready"},{name:"Social Profile Category",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-527030cd048f6a37f9000194.js",data:[]}]}]}],conditions:[function(){return"browse:category"===dataLayer.page}],event:"domready"},{name:"Social Profile Contact Us",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5270362ba48301e69a000232.js",data:[]}]}]}],conditions:[function(){return"support:contact_us"===dataLayer.page&&_satellite.getQueryParam("contact_id")&&_satellite.getQueryParam("contact_name")}],event:"pagebottom"},{name:"Social Profile Directory",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-52703192a483018c800000fe.js",data:[]}]}]}],conditions:[function(){return"profile:directory"===dataLayer.page}],event:"pagebottom"},{name:"Social Profile Profile Page",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5270330bbded28243e0001aa.js",data:[]}]}]}],conditions:[function(){return"profile:profile"==dataLayer.page}],event:"pagebottom"},{name:"TriggerMail",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-54187e537f0bb67ae20000ed.js",data:[]}]}]}],conditions:[function(){return"true"!==n.dataLayer.isLocalUser}],event:"domready"},{name:"Usabilla Feedback",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-541875bcde04d890010000b5.js",data:[]}]}]}],event:"domready"},{name:"Velaro Chat Test",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-54120bec337e8ac27d000501.js",data:[]}]}]}],conditions:[function(){return"true"===_satellite.readCookie("velaro")&&"affiliates:chat_landing"!==n.dataLayer.page}],event:"domready"},{name:"Your Recommendations Page",trigger:[{command:"writeHTML",arguments:[{html:"<script type=\"text/javascript\">\n(function($){\njQuery.getScript('//media.richrelevance.com/rrserver/js/1.0/p13n.js', function(){\n\n\n\n\n	//session cookie functions\n	function C(k){return(document.cookie.match('(^|; )'+k+'=([^;]*)')||0)[2]}\n	function guidGenerator() {\n	 \xa0 \xa0var S4 = function() {\n	 \xa0 \xa0 \xa0 return ((((1+Math.random())*0x10000)|0)).toString(16).substring(1);\n	 \xa0 \xa0};\n	 \xa0 \xa0return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n	}\n	function guidCheck(){\n		if(C('guId') !== null){\n	 \xa0 \xa0 \xa0 \xa0var guId = guidGenerator();\n			document.cookie= 'guId='+guId+'; path=/';\n		}\n		return C('guId');\n	}\n	//end session cookie\n	//api key check\n\xa0 \xa0var api = '808eb9bd4473db38', \xa0\xa0\n\xa0 \xa0 \xa0 url = window.location.host.split('.').splice(1,2).join('.');\n\xa0 \xa0 var env = 'recs';\n\xa0 \xa0 if(dataLayer.environment !== 'production'){\n\xa0 \xa0 	env = 'integration';\n\xa0 \xa0 }\n\xa0 //rich relevance stuff\n\xa0 RR.jsonCallback = function(){\n		$.each(RR.data.JSON.placements, function(index, item){\n			var order = index + 1,\n					heading = item.strat_message,\n					items = item.items.slice(0,5);\n			if(items.length){\n				if($('#rr_'+order).length < 1){\n					var	recsContent = '<div id=\"rr_'+order+'\" class=\"clearfix\"><div class=\"rr_boxwrapper\"><div class=\"rr_boxhead\"><h2>'+heading+'</h2></div><div class=\"rr_boxbody clearfix\"></div></div></div>';\n					$('#article-body').append(recsContent);\n				}\n				$.each(items, function(index, item){\n					var rrBrand = item.brand,\n							rrId = item.id,\n							rrImgUrl = item.imageURL,\n							rrIndex = item.index,\n							rrLinkUrl = item.linkURL,\n							rrName = item.name,\n							rrPrice = item.price,\n							rrRating = item.rating,\n							rrReviews = item.reviews,\n							rrAlpha = (index == 0) ? 'alpha' : '',\n							rrTitle = '';\n							if(typeof item.title != 'undefined'){\n								rrTitle = (item.title.length <= 75) ? item.title : (item.title.slice(0, 75) + '&hellip;');\n							}\n					var rrItem = '<div class=\"rr_product col5 '+rrAlpha+'\">'+\n													'<div class=\"rr_product_image_link\">'+\n														'<a href=\"'+rrLinkUrl+'\" id=\"recs-product-image-link\">'+\n															'<img src=\"'+rrImgUrl+'\" alt=\"'+rrName+'\" width=\"150\" class=\"recs-product-image\">'+\n														'</a>'+\n													'</div>'+\n													'<div class=\"rr_product_name\">'+\n														'<a href=\"'+rrLinkUrl+'\">'+rrName+'</a>'+\n													'</div>'+\n													'<div class=\"rr_list\">'+\n														'<span class=\"rr_list_price\">$'+rrPrice+'</span>'+\n													'</div>'+\n												'</div>';\n					$('#rr_'+order+' .rr_boxbody').append(rrItem);\n					\n				});\n			}\n		});\n	};\n	window.R3_COMMON = new r3_common();\n	R3_COMMON.setApiKey(api);\n	R3_COMMON.setBaseUrl(window.location.protocol+'//'+env+'.richrelevance.com/rrserver/');\n	R3_COMMON.setClickthruServer(window.location.protocol+\"//\"+window.location.host);\n	R3_COMMON.setSessionId(guidCheck());\n	R3_COMMON.setUserId(C('CID'));\n\n\n\n\n	//request recommendations for page area (1 per call)\n	R3_COMMON.addPlacementType('home_page.rr1');\n	R3_COMMON.addPlacementType('home_page.rr2');\n\n\n\n\n	window.R3_HOME = new r3_home();\n\n\n\n\n	r3();\n	rr_flush_onload()\n});\n}(jQuery));\n</script>\n<style>\n.igdrec{ display: none; }\n#article .rr_boxwrapper {\n  text-align: left;\n}\n#article .rr_boxhead h2 {\n  text-align: center;\n  font-family: \"Bitter\", \"Helvetica Neue\" Arial, serif;\n  font-weight: 300;\n  font-size: 22px;\n  color: #A2A2A2;\n  display: block;\n  padding: 30px 0px 25px 0px;\n}\n#article .rr_boxbody {\n  background: url(\"/assets/images/beta/border-shadow.jpg\") no-repeat bottom center;\n  height: 240px;\n  padding: 0px 10px 60px 10px;\n  position: relative;\n  clear: both;\n}\n#article .rr_boxbody .you-viewed-others-viewed {\n  border-top: 1px solid #ddd;\n  color: #888;\n  font-weight: bold;\n}\n#article .rr_boxbody .you-viewed-others-viewed div {\n  float: left;\n  padding: 5px 10px;\n}\n#article .rr_boxbody .you-viewed-others-viewed .you-viewed {\n  border-right: 1px solid #ddd;\n  width: 146px;\n  background: #eee;\n}\n#article .rr_boxbody .rr_product {\n  height: 235px;\n  font-size: 12px;\n  margin-left: 2.5%;\n  padding-top: 10px;\n}\n#article .rr_boxbody .rr_product.viewed-product {\n  border-right: 1px solid #ddd;\n  padding-right: 0;\n}\n#article .rr_boxbody .rr_product img.rr_product_image {\n  float: left;\n  height: auto;\n  margin: 0 5px 1px;\n  width: 150px;\n  padding: 5px 10px;\n}\n#article .rr_boxbody .rr_product .rr_product_name {\n  width: 100%;\n  font-weight: bold;\n}\n#article .rr_boxbody .rr_product .rr_product_title {\n  line-height: 16px;\n  color: #3F3F3F;\n}\n#article .rr_boxbody .rr_product .rating {\n  display: block;\n  float: none;\n  margin: 3px 0;\n}\n#article .rr_boxbody .rr_product .rr_list {\n  color: #548951;\n  font-weight: bold;\n}\n#article .rr_boxbody .rr_product .rr_list .rr_list_price {\n  display: block;\n  font-weight: bold;\n}\n#article .recently-viewed-items .rr_boxbody {\n  height: auto;\n}\n#article .recently-viewed {\n  border-top: 1px solid #ddd;\n}\n#article .ie7 .you-viewed-others-viewed .you-viewed {\n  width: 141px;\n}\n</style>"}]}],conditions:[function(){var e=n.location.href;return"learn:article"===n.dataLayer.page&&e.match("your-recommendations")}],event:"pagebottom"}],rules:[],directCallRules:[],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-d5580b93ed4086b348dfe4893ce3863a06e16962",isStaging:!1,allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["build.com"],scriptDir:"ca27c28f57fb1177559c0968278f073d983d887a/scripts/",tagTimeout:3e3},data:{URI:e.location.pathname+e.location.search,browser:{},cartItems:[],revenue:"",host:{http:"www.build.com/themes/build/scripts/vendor/satellite"+dataLayer.cacheBust,https:"www.build.com/themes/build/scripts/vendor/satellite"+dataLayer.cacheBust}},dataElements:{"dataLayer.ip":{jsVariable:"dataLayer.ip",storeLength:"pageview"},"dataLayer.orderNumber":{jsVariable:"dataLayer.orderNumber","default":"0",storeLength:"pageview"},"dataLayer.subTotal":{jsVariable:"dataLayer.subTotal","default":"0",storeLength:"pageview"}},buildDate:"2014-09-22 23:17:28 UTC",publishDate:"2014-09-22 23:17:20 UTC"})}(window,document);
